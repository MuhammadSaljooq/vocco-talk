import{j as e}from"./index-DPr9HexU.js";import{r as a}from"./react-vendor-BWEkWSVM.js";import{T as R,G as oe,M as ce}from"./google-vendor-CvX4IAyf.js";import{d as le,a as de,c as he}from"./audioUtils-BoSSlOMf.js";import{T as me}from"./TaskExecutionIndicator-BWFliu_k.js";function ue({property:t,onSelect:l,isSelected:i}){return e.jsxs("div",{onClick:()=>l(t),className:`group relative bg-surface-card rounded-xl border overflow-hidden cursor-pointer transition-all duration-300 ${i?"border-primary/50 shadow-lg shadow-primary/20 scale-[1.02]":"border-white/5 hover:border-primary/30"}`,children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-surface-dark",children:[e.jsx("img",{src:t.thumbnail,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:p=>{p.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400"}}),t.host.isSuperhost&&e.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-bold text-black",children:"⭐ Superhost"}),e.jsxs("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black/50 backdrop-blur-sm rounded-full text-xs text-white font-medium flex items-center gap-1",children:[e.jsx("span",{children:"⭐"}),e.jsx("span",{children:t.rating})]})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-white truncate group-hover:text-primary transition-colors",children:t.name}),e.jsx("p",{className:"text-xs text-secondary-grey truncate",children:t.location})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/5",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-white",children:[t.currency," ",t.pricePerNight.toLocaleString(),e.jsx("span",{className:"text-xs font-normal text-secondary-grey",children:" / night"})]}),e.jsxs("p",{className:"text-xs text-secondary-grey",children:[t.reviews," reviews"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-secondary-grey",children:[e.jsx("span",{children:"⭐"}),e.jsx("span",{children:t.rating})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-secondary-grey pt-1",children:[e.jsxs("span",{children:[t.bedrooms," bed"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.bathrooms," bath"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.maxGuests," guests"]})]})]})]})}function xe({images:t,propertyName:l}){const[i,p]=a.useState(0),[g,f]=a.useState(!1);return!t||t.length===0?null:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Photos"}),e.jsxs("button",{onClick:()=>f(!0),className:"text-sm text-primary hover:text-primary-glow transition-colors",children:["View all ",t.length," photos"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:t.slice(0,4).map((o,n)=>e.jsxs("div",{onClick:()=>{p(n),f(!0)},className:"relative aspect-square overflow-hidden rounded-lg cursor-pointer group bg-surface-dark",children:[e.jsx("img",{src:o,alt:`${l} - Image ${n+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:s=>{s.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400"}}),n===3&&t.length>4&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-bold",children:["+",t.length-4," more"]})})]},n))})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",onClick:()=>f(!1),children:e.jsxs("div",{className:"relative max-w-6xl w-full max-h-[90vh] flex flex-col",children:[e.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 z-10 w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center mb-4",children:e.jsx("img",{src:t[i],alt:`${l} - Image ${i+1}`,className:"max-w-full max-h-[70vh] object-contain rounded-lg",onError:o=>{o.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800"}})}),e.jsx("div",{className:"text-center text-white mb-4",children:e.jsxs("span",{className:"text-sm",children:[i+1," of ",t.length]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.map((o,n)=>e.jsx("button",{onClick:s=>{s.stopPropagation(),p(n)},className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${n===i?"border-primary scale-110":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:o,alt:`Thumbnail ${n+1}`,className:"w-full h-full object-cover",onError:s=>{s.target.src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200"}})},n))}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:o=>{o.stopPropagation(),p(n=>n>0?n-1:t.length-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:o=>{o.stopPropagation(),p(n=>n<t.length-1?n+1:0)},className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})]})}function pe({property:t,onBookingComplete:l}){const[i,p]=a.useState(""),[g,f]=a.useState(""),[o,n]=a.useState(1),[s,P]=a.useState(!1),[H,T]=a.useState(""),J=new Date().toISOString().split("T")[0],A=new Date(Date.now()+864e5).toISOString().split("T")[0],v=(()=>{if(!i||!g)return 0;const d=new Date(i),u=new Date(g),B=Math.abs(u-d),E=Math.ceil(B/(1e3*60*60*24));return E>0?E:0})(),b=t.pricePerNight*v,m=Math.round(b*.12),O=2e3,F=Math.round(b*.13),k=b+m+O+F,C=()=>{if(!i||!g||v===0){alert("Please select valid check-in and check-out dates");return}if(o>t.maxGuests){alert(`Maximum ${t.maxGuests} guests allowed`);return}const d="AB"+Math.random().toString(36).substr(2,9).toUpperCase();T(d),P(!0);const u={confirmationNumber:d,property:t.name,location:t.location,checkIn:i,checkOut:g,nights:v,guests:o,total:k,date:new Date().toISOString()};localStorage.setItem("airbnb_booking_"+d,JSON.stringify(u))};return s?e.jsx("div",{className:"bg-surface-card rounded-2xl p-6 sm:p-8 border border-primary/30",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Booking Confirmed!"}),e.jsxs("div",{className:"bg-surface-dark rounded-xl p-4 space-y-2",children:[e.jsx("p",{className:"text-sm text-secondary-grey",children:"Confirmation Number"}),e.jsx("p",{className:"text-xl font-bold text-primary font-mono",children:H})]}),e.jsxs("div",{className:"text-left space-y-3 bg-surface-dark rounded-xl p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-secondary-grey",children:"Property"}),e.jsx("p",{className:"text-white font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-secondary-grey",children:t.location})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-secondary-grey",children:"Check-in"}),e.jsx("p",{className:"text-white font-medium",children:new Date(i).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-secondary-grey",children:t.checkIn})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-secondary-grey",children:"Check-out"}),e.jsx("p",{className:"text-white font-medium",children:new Date(g).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-secondary-grey",children:t.checkOut})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-secondary-grey",children:"Guests"}),e.jsxs("p",{className:"text-white font-medium",children:[o," ",o===1?"guest":"guests"]})]}),e.jsxs("div",{className:"pt-3 border-t border-white/5",children:[e.jsx("p",{className:"text-xs text-secondary-grey",children:"Total"}),e.jsxs("p",{className:"text-xl font-bold text-primary",children:[t.currency," ",k.toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx("p",{className:"text-sm text-secondary-grey",children:"Host Contact"}),e.jsx("p",{className:"text-white",children:t.host.name}),e.jsx("a",{href:`tel:${t.host.contact}`,className:"text-primary hover:text-primary-glow text-sm",children:t.host.contact})]}),e.jsx("button",{onClick:()=>{P(!1),p(""),f(""),n(1),l&&l()},className:"w-full py-3 bg-primary hover:bg-primary-glow text-white rounded-full font-bold transition-all",children:"Book Another Property"})]})}):e.jsx("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5 sticky top-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-white",children:[t.currency," ",t.pricePerNight.toLocaleString()]}),e.jsx("span",{className:"text-secondary-grey",children:"/ night"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-white mb-1 block",children:"Check-in"}),e.jsx("input",{type:"date",min:J,value:i,onChange:d=>p(d.target.value),className:"w-full px-3 py-2 bg-surface-dark border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-white mb-1 block",children:"Check-out"}),e.jsx("input",{type:"date",min:i||A,value:g,onChange:d=>f(d.target.value),className:"w-full px-3 py-2 bg-surface-dark border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-primary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-white mb-1 block",children:"Guests"}),e.jsx("select",{value:o,onChange:d=>n(Number(d.target.value)),className:"w-full px-3 py-2 bg-surface-dark border border-white/10 rounded-lg text-white text-sm focus:outline-none focus:border-primary",children:[...Array(t.maxGuests)].map((d,u)=>e.jsxs("option",{value:u+1,children:[u+1," ",u===0?"guest":"guests"]},u+1))})]}),v>0&&e.jsxs("div",{className:"pt-4 border-t border-white/5 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-secondary-grey",children:[t.currency," ",t.pricePerNight.toLocaleString()," × ",v," ",v===1?"night":"nights"]}),e.jsxs("span",{className:"text-white",children:[t.currency," ",b.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-secondary-grey",children:"Service fee"}),e.jsxs("span",{className:"text-white",children:[t.currency," ",m.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-secondary-grey",children:"Cleaning fee"}),e.jsxs("span",{className:"text-white",children:[t.currency," ",O.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-secondary-grey",children:"Tax"}),e.jsxs("span",{className:"text-white",children:[t.currency," ",F.toLocaleString()]})]}),e.jsxs("div",{className:"pt-2 border-t border-white/5 flex justify-between",children:[e.jsx("span",{className:"font-bold text-white",children:"Total"}),e.jsxs("span",{className:"font-bold text-primary text-lg",children:[t.currency," ",k.toLocaleString()]})]})]}),e.jsx("button",{onClick:C,disabled:!i||!g||v===0,className:"w-full py-4 bg-primary hover:bg-primary-glow disabled:bg-white/5 disabled:text-secondary-grey disabled:cursor-not-allowed text-white rounded-full font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.3)] hover:scale-105",children:"Reserve Now"}),e.jsx("p",{className:"text-xs text-center text-secondary-grey",children:"You won't be charged yet"})]})})}const ge=[{id:1,name:"Luxury Studio Gulberg",location:"Lahore, Gulberg III",pricePerNight:12e3,currency:"PKR",rating:4.8,reviews:234,host:{name:"Ahmed Khan",isSuperhost:!0,contact:"+92 300 1234567"},thumbnail:"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400",images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800","https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800","https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800","https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=800"],description:"Modern studio apartment with stunning city views and premium amenities. Located in the heart of Gulberg, this property offers easy access to shopping, dining, and entertainment.",amenities:["WiFi","Pool","Gym","Kitchen","Air Conditioning","TV","Washer","Dryer","Parking"],bedrooms:1,bathrooms:1,maxGuests:2,type:"Studio",entirePlace:!0,wifi:{network:"Gulberg_Guest_5G",password:"Lahore123"},checkIn:"2:00 PM",checkOut:"11:00 AM",cancellationPolicy:"Flexible - Free cancellation for 48 hours",houseRules:["No smoking","No parties or events","Check-in is anytime after 2:00 PM","Checkout by 11:00 AM"],nearbyAttractions:["MM Alam Road (Dining)","Liberty Market","Gaddafi Stadium","Packages Mall"],transportLinks:["Gulberg Metro Bus Station","Uber/Careem Hub","Lahore Airport (20 mins)"],safetyFeatures:["Smoke detector","Carbon monoxide detector","First aid kit","Fire extinguisher"],cleaningInfo:"Professional cleaning service included",petPolicy:"Pets not allowed"},{id:2,name:"Modern Penthouse DHA",location:"Karachi, DHA Phase 6",pricePerNight:25e3,currency:"PKR",rating:4.9,reviews:412,host:{name:"Sarah Malik",isSuperhost:!0,contact:"+92 321 7654321"},thumbnail:"https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?w=400",images:["https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?w=800","https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800","https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800","https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=800","https://images.unsplash.com/photo-1560185007-c5ca9d2c014d?w=800"],description:"Spacious 3-bedroom penthouse with breathtaking sea views and private terrace. Experience luxury living in the heart of DHA with modern amenities and elegant design.",amenities:["Sea View","Terrace","Full Kitchen","Parking","WiFi","Air Conditioning","TV","Washer","Dryer","Pool Access"],bedrooms:3,bathrooms:2,maxGuests:6,type:"Penthouse",entirePlace:!0,wifi:{network:"DHA_Host_Home",password:"Karachi99"},checkIn:"3:00 PM",checkOut:"12:00 PM",cancellationPolicy:"Moderate - Free cancellation for 5 days",houseRules:["No smoking","No parties or events","Check-in is anytime after 3:00 PM","Checkout by 12:00 PM","Respect neighbors"],nearbyAttractions:["Sea View Beach","Dolmen Mall Clifton","Do Darya Dining","Clifton Beach"],transportLinks:["DHA Bus Services","Clifton Interchange","Airport (45 mins)"],safetyFeatures:["Smoke detector","Carbon monoxide detector","First aid kit","Fire extinguisher","Security system"],cleaningInfo:"Professional cleaning service included",petPolicy:"Pets allowed with prior approval"},{id:3,name:"Cozy Cottage Margalla",location:"Islamabad, E-7",pricePerNight:18e3,currency:"PKR",rating:4.7,reviews:189,host:{name:"Usman Ali",isSuperhost:!1,contact:"+92 333 9876543"},thumbnail:"https://images.unsplash.com/photo-1560185007-c5ca9d2c014d?w=400",images:["https://images.unsplash.com/photo-1560185007-c5ca9d2c014d?w=800","https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800","https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800"],description:"Serene stay near Margalla hills with beautiful garden views. Perfect for nature lovers seeking peace and tranquility in the capital city.",amenities:["Garden","Fireplace","Hills View","Pet Friendly","WiFi","Kitchen","Parking","TV"],bedrooms:2,bathrooms:1,maxGuests:4,type:"Cottage",entirePlace:!0,wifi:{network:"Margalla_Vibe",password:"Islamabad00"},checkIn:"2:00 PM",checkOut:"11:00 AM",cancellationPolicy:"Flexible - Free cancellation for 48 hours",houseRules:["No smoking","Pets allowed","Check-in is anytime after 2:00 PM","Checkout by 11:00 AM"],nearbyAttractions:["Faisal Mosque","Daman-e-Koh","Centaurus Mall","Margalla Hills National Park"],transportLinks:["Blue Area Metro","E-7 Taxi Stand","Motorway Link (15 mins)"],safetyFeatures:["Smoke detector","First aid kit","Fire extinguisher"],cleaningInfo:"Professional cleaning service included",petPolicy:"Pets allowed"},{id:4,name:"Downtown Loft Apartment",location:"Lahore, Model Town",pricePerNight:15e3,currency:"PKR",rating:4.6,reviews:156,host:{name:"Fatima Sheikh",isSuperhost:!0,contact:"+92 301 4567890"},thumbnail:"https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=400",images:["https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800","https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800","https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=800"],description:"Stylish loft apartment in the heart of Model Town. Modern design with high ceilings and natural light throughout.",amenities:["WiFi","Kitchen","Air Conditioning","TV","Washer","Parking"],bedrooms:2,bathrooms:1,maxGuests:4,type:"Apartment",entirePlace:!0,wifi:{network:"ModelTown_Guest",password:"Lahore2024"},checkIn:"2:00 PM",checkOut:"11:00 AM",cancellationPolicy:"Moderate - Free cancellation for 5 days",houseRules:["No smoking","No parties","Check-in after 2:00 PM","Checkout by 11:00 AM"],nearbyAttractions:["Model Town Park","Shopping Centers","Restaurants"],transportLinks:["Model Town Bus Stop","Uber/Careem","Airport (25 mins)"],safetyFeatures:["Smoke detector","First aid kit"],cleaningInfo:"Professional cleaning service included",petPolicy:"Pets not allowed"},{id:5,name:"Beachfront Villa",location:"Karachi, Clifton",pricePerNight:35e3,currency:"PKR",rating:4.9,reviews:278,host:{name:"Zainab Hassan",isSuperhost:!0,contact:"+92 322 1112233"},thumbnail:"https://images.unsplash.com/photo-1484154218962-a197022b5858?w=400",images:["https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800","https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=800","https://images.unsplash.com/photo-1560185007-c5ca9d2c014d?w=800"],description:"Luxurious beachfront villa with direct beach access. Perfect for families and groups looking for a premium coastal experience.",amenities:["Beach Access","Pool","Garden","Full Kitchen","WiFi","Air Conditioning","TV","Washer","Dryer","Parking"],bedrooms:4,bathrooms:3,maxGuests:8,type:"Villa",entirePlace:!0,wifi:{network:"Clifton_Beach_Villa",password:"Beach2024"},checkIn:"3:00 PM",checkOut:"12:00 PM",cancellationPolicy:"Strict - 50% refund up to 7 days before",houseRules:["No smoking","No parties","Check-in after 3:00 PM","Checkout by 12:00 PM"],nearbyAttractions:["Clifton Beach","Dolmen Mall","Seaview","Beach Park"],transportLinks:["Clifton Bus Stop","Uber/Careem","Airport (40 mins)"],safetyFeatures:["Smoke detector","Carbon monoxide detector","First aid kit","Fire extinguisher","Security guard"],cleaningInfo:"Professional cleaning service included",petPolicy:"Pets allowed with prior approval"}],ee={properties:ge},fe=[{category:"قوانین",question:"کیا پالتو جانوروں کی اجازت ہے؟",answer:"اسلام آباد کے کاٹیج اور کراچی کے پینتھاؤس میں پالتو جانوروں کی اجازت ہے، لیکن دیگر اپارٹمنٹس میں فی الحال اجازت نہیں ہے۔ براہ کرم میزبان سے پوچھیں۔"},{category:"سہولیات",question:"وائی فائی کا پاس ورڈ کیا ہے؟",answer:"ہر اپارٹمنٹ کا اپنا وائی فائی ہے؛ گلبرگ کے لیے Lahore123، کراچی کے لیے Karachi99، اور اسلام آباد کے لیے Islamabad00 پاس ورڈ ہے۔"},{category:"کھانا پینا",question:"قریبی اچھے کھانے کہاں ملیں گے؟",answer:"گلبرگ میں ایم ایم عالم روڈ قریب ہے، کراچی میں ڈی ایچ اے کے کیفے مشہور ہیں، اور اسلام آباد میں ای سیون کے قریب کئی اچھے ریستوران موجود ہیں۔"},{category:"ہنگامی حالات",question:"کسی ہنگامی صورتحال میں کیا کریں؟",answer:"ہنگامی صورت میں فوری طور پر میزبان سے رابطہ کریں۔ ہر اپارٹمنٹ میں میزبان کا رابطہ نمبر دستیاب ہے۔"},{category:"چیک ان/آؤٹ",question:"چیک ان کا وقت کیا ہے؟",answer:"زیادہ تر اپارٹمنٹس میں چیک ان 2:00 PM یا 3:00 PM سے ہے، اور چیک آؤٹ 11:00 AM یا 12:00 PM تک ہے۔ تفصیلات ہر پراپرٹی کی تفصیلات میں موجود ہیں۔"}],be={faq:fe},we=t=>{const l=ee.properties,i=be.faq;return`You are "Mezban AI" (میزبان اے آئی), an elite, highly sophisticated female Urdu voice assistant for a premium Airbnb business in Pakistan. 

CORE PERSONA & LANGUAGE:
1. DIALECT: Use proper, standard Pakistani Urdu. Avoid 'robot-like' literal translations.
2. GREETING: Always start with a warm "Assalam-o-Alaikum".
3. PACE: Speak at a NATURAL, BRISK, and EFFICIENT conversational pace. Do not be slow or sluggish. Sound energetic and proactive.
4. TONE: Your voice should be LOVELY and GENTLE, but with a LIVELY flow.
5. HUMAN FILLERS: Use natural conversational fillers like "Ji bilkul", "Yaqeenan", "Be-shak", and "MashaAllah".
6. FEMININE GRAMMAR: Use consistent feminine self-address.

KNOWLEDGE BASE - PROPERTIES:
${JSON.stringify(l,null,2)}

${t?`CURRENT SELECTED PROPERTY: ${JSON.stringify(t,null,2)}`:"NO PROPERTY SELECTED YET"}

FAQ DATA:
${JSON.stringify(i,null,2)}

VOICE COMMANDS YOU CAN HANDLE:
- "pictures dikhao" or "images dikhao" - Show property images
- "amenities" or "saholiyat" - List property amenities
- "reviews" or "ratings" - Show property reviews
- "book karo" or "reserve karo" - Start booking process
- "cancellation policy" - Explain cancellation policy
- "wifi password" - Provide WiFi details
- "nearby attractions" - List nearby places
- "check-in time" - Tell check-in/check-out times

SPECIFIC INSTRUCTIONS:
- You know about nearby attractions, transport links, and host contact details for ALL properties.
- Be helpful and energetic. If a guest asks about things to do, suggest the attractions listed.
- Use feminine Urdu grammar (e.g., "Main hazir hoon", "Main aapki madad kar rahi hoon").
- If a guest asks to see pictures, use the show_images function.
- If a guest wants to book, use the start_booking function.
- If a guest asks about amenities, use the show_amenities function.
- Always provide accurate information from the knowledge base.`};function Ce(){const[t,l]=a.useState("disconnected"),[i,p]=a.useState(null),[g,f]=a.useState(!1),[o,n]=a.useState([]),[s,P]=a.useState(null),[H,T]=a.useState(!1),[J,A]=a.useState(!1),[G,v]=a.useState(null),[b,m]=a.useState("properties"),O=a.useRef(null),F=a.useRef(null),k=a.useRef(0),C=a.useRef(new Set),d=a.useRef(null),u=a.useRef(null),B=a.useRef(""),E=a.useRef(""),j=a.useRef(null),U=ee.properties,te={name:"show_images",parameters:{type:R.OBJECT,description:"Show property images when user asks to see pictures",properties:{property_id:{type:R.NUMBER,description:"ID of the property"}}}},se={name:"show_amenities",parameters:{type:R.OBJECT,description:"Show property amenities when user asks about facilities",properties:{property_id:{type:R.NUMBER,description:"ID of the property"}}}},re={name:"start_booking",parameters:{type:R.OBJECT,description:"Start booking process when user wants to reserve the property",properties:{property_id:{type:R.NUMBER,description:"ID of the property to book"}}}},Y=a.useCallback(()=>{i&&(i.close(),p(null)),u.current&&(u.current.disconnect(),u.current=null),d.current&&(d.current.getTracks().forEach(r=>r.stop()),d.current=null),j.current&&(clearTimeout(j.current),j.current=null),C.current.forEach(r=>{try{r.stop()}catch{}}),C.current.clear(),B.current="",E.current="",l("disconnected"),f(!1)},[i]),ae=r=>{P(r),m("details"),T(!1),A(!1)},ie=async()=>{try{l("connecting");const r="";if(!r){alert("Please set VITE_GEMINI_API_KEY in your .env file"),l("error");return}const x=new oe({apiKey:r}),D=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=D;const I=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),q=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});O.current=I,F.current=q;const ne=we(s),z=x.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",config:{responseModalities:[ce.AUDIO],systemInstruction:ne,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},outputAudioTranscription:{},inputAudioTranscription:{},tools:[{functionDeclarations:[te,se,re]}]},callbacks:{onopen:()=>{l("connected");const w=I.createMediaStreamSource(D),L=I.createScriptProcessor(4096,1,1);u.current=L,L.onaudioprocess=$=>{const W=$.inputBuffer.getChannelData(0),V=he(W);z.then(K=>{K.sendRealtimeInput({media:V})})},w.connect(L),L.connect(I.destination)},onmessage:async w=>{var $,W,V,K,Q,Z,X;if(w.toolCall)for(const c of w.toolCall.functionCalls){const N=c.name,y=(c.args||{}).property_id||(s==null?void 0:s.id);v(N),setTimeout(async()=>{let M={success:!0};switch(N){case"show_images":if(y){const h=U.find(_=>_.id===y);h&&(P(h),T(!0),m("details"),M={success:!0,message:`Showing images for ${h.name}`})}else s&&(T(!0),M={success:!0,message:`Showing images for ${s.name}`});break;case"show_amenities":if(y){const h=U.find(_=>_.id===y);h&&(P(h),m("details"),M={success:!0,amenities:h.amenities})}else s&&(m("details"),M={success:!0,amenities:s.amenities});break;case"start_booking":if(y){const h=U.find(_=>_.id===y);h&&(P(h),A(!0),m("booking"),M={success:!0,message:`Starting booking for ${h.name}`})}else s&&(A(!0),m("booking"),M={success:!0,message:`Starting booking for ${s.name}`});break;default:M={success:!1,message:"Unknown task"}}try{const h=await z;h&&c.id&&h.sendToolResponse({functionResponses:{id:c.id,name:N,response:M}})}catch(h){console.error("Error sending tool response:",h)}v(null)},800)}const L=(K=(V=(W=($=w.serverContent)==null?void 0:$.modelTurn)==null?void 0:W.parts[0])==null?void 0:V.inlineData)==null?void 0:K.data;if(L){f(!0);const c=F.current;k.current=Math.max(k.current,c.currentTime);const N=await le(de(L),c,24e3,1),S=c.createBufferSource();S.buffer=N;const y=c.createGain();S.connect(y).connect(c.destination),S.addEventListener("ended",()=>{C.current.delete(S),C.current.size===0&&f(!1)}),S.start(k.current),k.current+=N.duration,C.current.add(S)}if((Q=w.serverContent)!=null&&Q.outputTranscription){const c=w.serverContent.outputTranscription.text;E.current=c,j.current&&clearTimeout(j.current),n(N=>[...N.filter(y=>!y.startsWith("Assistant:")),`Assistant: ${c}`].slice(-9)),j.current=setTimeout(()=>{E.current="",j.current=null},500)}else if((Z=w.serverContent)!=null&&Z.inputTranscription){const c=w.serverContent.inputTranscription.text;B.current=c,j.current&&clearTimeout(j.current),n(N=>[...N.filter(y=>!y.startsWith("You:")),`You: ${c}`].slice(-9)),j.current=setTimeout(()=>{B.current="",j.current=null},500)}(X=w.serverContent)!=null&&X.interrupted&&(C.current.forEach(c=>{try{c.stop()}catch{}}),C.current.clear(),k.current=0,f(!1))},onerror:w=>{console.error("Gemini Live Error:",w),l("error"),Y()},onclose:()=>{l("disconnected"),Y()}}});p(await z)}catch(r){console.error("Failed to start conversation:",r),l("error")}};return e.jsxs("div",{className:"w-full",children:[e.jsx(me,{task:G?G.replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase()):"",isExecuting:!!G}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex gap-2 bg-surface-dark rounded-lg p-1",children:[e.jsx("button",{onClick:()=>m("properties"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${b==="properties"?"bg-primary text-white":"text-secondary-grey hover:text-white"}`,children:"Properties"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>m("details"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${b==="details"?"bg-primary text-white":"text-secondary-grey hover:text-white"}`,children:"Details"}),e.jsx("button",{onClick:()=>m("booking"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${b==="booking"?"bg-primary text-white":"text-secondary-grey hover:text-white"}`,children:"Booking"})]})]}),b==="properties"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Available Properties"}),e.jsx("p",{className:"text-secondary-grey",children:"Select a property to learn more or ask questions"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:U.map(r=>e.jsx(ue,{property:r,onSelect:ae,isSelected:(s==null?void 0:s.id)===r.id},r.id))})]}),b==="details"&&s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:s.name}),e.jsx("p",{className:"text-secondary-grey",children:s.location})]}),s.host.isSuperhost&&e.jsx("div",{className:"px-3 py-1 bg-primary/10 border border-primary/20 rounded-full text-xs text-primary font-medium",children:"⭐ Superhost"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-grey",children:[e.jsxs("span",{children:["⭐ ",s.rating," (",s.reviews," reviews)"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.bedrooms," bed"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.bathrooms," bath"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.maxGuests," guests"]})]})]}),H&&e.jsx(xe,{images:s.images,propertyName:s.name}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"About this place"}),e.jsx("p",{className:"text-secondary-grey leading-relaxed",children:s.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.amenities.map((r,x)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-secondary-grey",children:[e.jsx("svg",{className:"w-5 h-5 text-primary flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),r]},x))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"House Rules"}),e.jsx("ul",{className:"space-y-2",children:s.houseRules.map((r,x)=>e.jsxs("li",{className:"text-sm text-secondary-grey flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r]},x))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Cancellation Policy"}),e.jsx("p",{className:"text-sm text-secondary-grey",children:s.cancellationPolicy})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Nearby Attractions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.nearbyAttractions.map((r,x)=>e.jsx("span",{className:"px-3 py-1 bg-surface-card border border-white/10 rounded-full text-sm text-secondary-grey",children:r},x))})]})]}),b==="booking"&&s&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Complete Your Booking"}),e.jsx("div",{className:"bg-surface-card rounded-xl p-6 border border-white/5 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:s.thumbnail,alt:s.name,className:"w-24 h-24 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:s.name}),e.jsx("p",{className:"text-sm text-secondary-grey",children:s.location})]})]})})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl border border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 p-3 sm:p-4 flex items-center justify-between border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary/20 rounded-xl flex items-center justify-center border border-primary/30 flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold tracking-tight text-white truncate",children:"Mezban AI"}),e.jsx("p",{className:"text-[9px] sm:text-[10px] text-primary uppercase tracking-widest",dir:"rtl",children:"آپ کا ڈیجیٹل میزبان"})]})]}),t==="connected"&&e.jsxs("span",{className:"flex h-2 w-2 relative flex-shrink-0",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]}),e.jsxs("div",{className:"p-4 sm:p-6 bg-surface-dark",children:[t==="disconnected"&&e.jsxs("div",{className:"text-center space-y-4 py-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full border-2 border-primary/20 flex items-center justify-center bg-surface-card",children:e.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Assalam-o-Alaikum!"}),e.jsx("p",{className:"text-sm text-secondary-grey mb-4",dir:"rtl",children:"گفتگو کا آغاز کریں"})]}),e.jsx("button",{onClick:ie,className:"bg-primary hover:bg-primary-glow text-white px-6 py-2 rounded-full text-sm font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.5)] hover:scale-105",dir:"rtl",children:"گفتگو کا آغاز کریں"}),s&&e.jsx("p",{className:"text-xs text-secondary-grey mt-2",children:'Ask about: "Pictures dikhao", "Amenities", "Book karo"'})]}),t==="connecting"&&e.jsxs("div",{className:"text-center space-y-3 py-6",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin mx-auto"}),e.jsx("div",{className:"text-primary font-bold text-sm",dir:"rtl",children:"رابطہ ہو رہا ہے..."})]}),t==="connected"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 mx-auto rounded-full border border-white/5 flex items-center justify-center bg-surface-card",children:e.jsx("div",{className:`w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-surface-dark border-2 border-primary/10 flex items-center justify-center relative overflow-hidden transition-all ${g?"scale-105 bg-primary/[0.02]":""}`,children:g?e.jsx("div",{className:"flex items-center gap-1",children:[...Array(4)].map((r,x)=>e.jsx("div",{className:"w-1 bg-primary/80 rounded-full animate-bounce",style:{height:`${Math.random()*20+10}px`,animationDelay:`${x*.1}s`}},x))}):e.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})})}),e.jsx("div",{className:"bg-surface-card backdrop-blur-xl rounded-xl p-4 min-h-[150px] max-h-[300px] border border-white/5 overflow-y-auto",children:o.length===0?e.jsx("div",{className:"h-full flex flex-col items-center justify-center opacity-40 py-4",children:e.jsx("p",{className:"text-secondary-grey text-xs text-center max-w-sm leading-relaxed",dir:"rtl",children:"آپ گھر کے ماحول، وائی فائی یا قریبی کھانے کے مقامات کے بارے میں پوچھ سکتے ہیں"})}):e.jsx("div",{className:"space-y-2",children:o.map((r,x)=>{const D=r.startsWith("You"),I=r.replace("Assistant: ","").replace("You: ",""),q=/[\u0600-\u06FF]/.test(I);return e.jsx("div",{className:`flex ${D?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] text-xs leading-relaxed px-3 py-2 rounded-xl break-words ${D?"bg-primary/20 text-primary border border-primary/30 rounded-br-sm":"bg-surface-dark text-white border border-white/10 rounded-bl-sm"}`,dir:q?"rtl":"ltr",children:I})},x)})})}),e.jsx("button",{onClick:Y,className:"w-full py-3 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-full text-sm font-bold transition-all",dir:"rtl",children:"بات ختم کریں"})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:s&&e.jsx(e.Fragment,{children:b==="booking"?e.jsx(pe,{property:s,onBookingComplete:()=>{P(null),m("properties"),A(!1)}}):e.jsx("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5 sticky top-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-white",children:[s.currency," ",s.pricePerNight.toLocaleString()]}),e.jsx("span",{className:"text-secondary-grey text-sm",children:"/ night"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-grey",children:[e.jsxs("span",{children:["⭐ ",s.rating]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.reviews," reviews"]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/5 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-secondary-grey mb-1",children:"Check-in"}),e.jsx("p",{className:"text-sm text-white",children:s.checkIn})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-secondary-grey mb-1",children:"Check-out"}),e.jsx("p",{className:"text-sm text-white",children:s.checkOut})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-secondary-grey mb-1",children:"Host"}),e.jsx("p",{className:"text-sm text-white",children:s.host.name}),s.host.isSuperhost&&e.jsx("span",{className:"text-xs text-primary",children:"⭐ Superhost"})]})]}),e.jsx("button",{onClick:()=>{A(!0),m("booking")},className:"w-full py-3 bg-primary hover:bg-primary-glow text-white rounded-full font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.3)] hover:scale-105",children:"Reserve Now"}),e.jsx("button",{onClick:()=>T(!0),className:"w-full py-3 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-full font-bold transition-all",children:"View Photos"})]})})})})]})]})}export{Ce as default};
