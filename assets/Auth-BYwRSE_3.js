import{j as e,a as f,c as y,s as w}from"./index-Br7EO8jg.js";import{r as i}from"./react-vendor-BWEkWSVM.js";function v({onAuthSuccess:d,onClose:o}){const[t,p]=i.useState("login"),[s,m]=i.useState({email:"",password:"",name:""}),[u,n]=i.useState(""),[x,l]=i.useState(!1),c=(r,a)=>{m(b=>({...b,[r]:a})),n("")},h=async r=>{r.preventDefault(),l(!0),n("");try{const a=f(s.email,s.password);a?d(a):n("Invalid email or password")}catch(a){n(a.message||"Login failed")}finally{l(!1)}},g=async r=>{r.preventDefault(),l(!0),n("");try{if(!s.name.trim()){n("Name is required"),l(!1);return}const a=y({email:s.email,password:s.password,name:s.name});w(a),d(a)}catch(a){n(a.message||"Signup failed")}finally{l(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:o,children:e.jsxs("div",{className:"w-full max-w-md bg-surface-card rounded-2xl border border-white/10 p-8 shadow-2xl",onClick:r=>r.stopPropagation(),children:[o&&e.jsx("button",{onClick:o,className:"absolute top-4 right-4 p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-secondary-grey",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-primary/20",children:e.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"account_circle"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t==="login"?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-secondary-grey text-sm",children:t==="login"?"Sign in to manage your voice agents":"Get started with Vocco Talk"})]}),u&&e.jsxs("div",{className:"mb-6 p-4 bg-accent/10 border border-accent/30 rounded-xl flex items-start gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-accent",children:"error"}),e.jsx("p",{className:"text-sm text-accent flex-1",children:u})]}),e.jsxs("form",{onSubmit:t==="login"?h:g,className:"space-y-4",children:[t==="signup"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:s.name,onChange:r=>c("name",r.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 bg-surface-dark border border-white/10 rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email"}),e.jsx("input",{type:"email",value:s.email,onChange:r=>c("email",r.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 bg-surface-dark border border-white/10 rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),e.jsx("input",{type:"password",value:s.password,onChange:r=>c("password",r.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 bg-surface-dark border border-white/10 rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",required:!0,minLength:6}),t==="signup"&&e.jsx("p",{className:"mt-1 text-xs text-secondary-grey",children:"Must be at least 6 characters"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full h-12 rounded-full bg-primary hover:bg-primary-glow text-white font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.3)] hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t==="login"?"Signing in...":"Creating account..."]}):e.jsx(e.Fragment,{children:t==="login"?"Sign In":"Create Account"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("button",{onClick:()=>{p(t==="login"?"signup":"login"),n(""),m({email:"",password:"",name:""})},className:"text-sm text-secondary-grey hover:text-white transition-colors",children:[t==="login"?"Don't have an account? ":"Already have an account? ",e.jsx("span",{className:"text-primary font-medium",children:t==="login"?"Sign up":"Sign in"})]})}),e.jsx("div",{className:"mt-6 p-3 bg-primary/10 border border-primary/20 rounded-lg",children:e.jsxs("p",{className:"text-xs text-secondary-grey text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-xs align-middle mr-1",children:"info"}),"Demo mode: Data is stored locally in your browser"]})})]})})}export{v as default};
