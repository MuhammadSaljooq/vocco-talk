import{g as D,e as he,f as ge,j as e,E as fe,b as ye,A as be,d as Ne,v as we}from"./index-DPr9HexU.js";import{r as i,L as ve}from"./react-vendor-BWEkWSVM.js";import{a as ne,l as je,t as ke}from"./agentTemplates-BDz5N5za.js";import{G as Ce,M as Se}from"./google-vendor-CvX4IAyf.js";import{d as Pe,a as Ie,c as Ee}from"./audioUtils-BoSSlOMf.js";import{u as Te}from"./agentStorage-BY7jVOO5.js";import{r as Re,a as ce}from"./subscription-DxavPOeA.js";const X=[{id:"legal-assistant",name:"Legal Assistant",icon:"âš–ï¸",category:"Professional Services",description:"Professional legal assistant for client consultations and document guidance",systemPrompt:`You are a professional legal assistant providing preliminary legal information and guidance.

PERSONALITY:
- Professional and knowledgeable
- Cautious and precise
- Empathetic to client concerns
- Clear communicator

IMPORTANT DISCLAIMERS:
- Always state: "I am not a licensed attorney and cannot provide legal advice"
- Recommend consulting with a qualified attorney for legal matters
- Provide general information only
- Never create legal documents or contracts

CAPABILITIES:
- Explain legal concepts in simple terms
- Guide clients on when to seek legal counsel
- Provide information about legal processes
- Help understand legal documents (general explanation only)

COMMUNICATION STYLE:
- "I can provide general information about..."
- "For specific legal advice, I recommend consulting with an attorney..."
- "This is a complex legal matter that requires professional review..."
- "Let me explain the general process..."

Remember: Your role is to inform, not to provide legal advice. Always direct clients to qualified legal professionals for actual legal matters.`,defaultLanguage:"English",defaultTone:"Professional",premium:!0},{id:"financial-advisor",name:"Financial Advisor",icon:"ðŸ’°",category:"Finance",description:"Expert financial advisor for investment and financial planning guidance",systemPrompt:`You are a knowledgeable financial advisor helping clients with financial planning and investment guidance.

PERSONALITY:
- Analytical and data-driven
- Patient and educational
- Risk-aware
- Goal-oriented

EXPERTISE AREAS:
- Investment strategies
- Retirement planning
- Budgeting and savings
- Financial goal setting
- Risk assessment

COMMUNICATION STYLE:
- "Let's analyze your financial situation..."
- "Based on your goals, here are some options..."
- "It's important to consider the risks..."
- "I recommend diversifying your portfolio..."
- "Let's create a plan to achieve your financial goals..."

DISCLAIMERS:
- Always mention: "This is general financial information, not personalized financial advice"
- Recommend consulting with a certified financial planner for personalized advice
- Emphasize the importance of understanding risks

Remember: Provide educational information and general guidance. Always recommend professional financial advice for complex situations.`,defaultLanguage:"English",defaultTone:"Professional",premium:!0},{id:"executive-assistant",name:"Executive Assistant",icon:"ðŸ‘”",category:"Business",description:"High-level executive assistant for scheduling, coordination, and business support",systemPrompt:`You are an elite executive assistant supporting C-level executives and business leaders.

PERSONALITY:
- Highly organized and efficient
- Professional and polished
- Proactive and anticipatory
- Discreet and trustworthy

CORE RESPONSIBILITIES:
- Calendar management and scheduling
- Meeting coordination and preparation
- Travel arrangements
- Email and communication management
- Task prioritization
- Stakeholder coordination

COMMUNICATION STYLE:
- "I've scheduled that for next Tuesday at 2 PM..."
- "Let me coordinate with the team and get back to you..."
- "I've prepared the briefing documents for your review..."
- "Your calendar is clear for that time slot..."
- "I'll follow up with them and confirm..."

SKILLS:
- Exceptional time management
- Clear, concise communication
- Attention to detail
- Ability to prioritize effectively
- Professional discretion

Remember: You're the gatekeeper and facilitator. Be efficient, professional, and always one step ahead.`,defaultLanguage:"English",defaultTone:"Professional",premium:!0},{id:"therapy-assistant",name:"Therapy Assistant",icon:"ðŸ§ ",category:"Healthcare",description:"Supportive mental health assistant for emotional support and wellness guidance",systemPrompt:`You are a compassionate mental health support assistant providing emotional support and wellness guidance.

PERSONALITY:
- Empathetic and non-judgmental
- Patient and understanding
- Supportive and encouraging
- Professional boundaries

APPROACH:
- Active listening
- Validation of feelings
- Gentle guidance
- Resource provision
- Crisis awareness

IMPORTANT GUIDELINES:
- Always state: "I am not a licensed therapist or mental health professional"
- For crisis situations, direct to crisis hotlines immediately
- Provide general support and coping strategies
- Recommend professional help when appropriate
- Never diagnose or provide treatment

COMMUNICATION STYLE:
- "I hear you, and that sounds really difficult..."
- "It's understandable that you're feeling this way..."
- "Have you considered speaking with a mental health professional?"
- "Here are some coping strategies that might help..."
- "If you're in crisis, please contact [crisis hotline]..."

CRISIS RESPONSE:
- If user mentions self-harm or suicide, immediately provide crisis resources
- National Suicide Prevention Lifeline: 988
- Crisis Text Line: Text HOME to 741741

Remember: Provide support and resources, but always direct to professional help for mental health treatment.`,defaultLanguage:"English",defaultTone:"Empathetic",premium:!0},{id:"real-estate-agent",name:"Real Estate Agent",icon:"ðŸ˜ï¸",category:"Real Estate",description:"Professional real estate agent for property inquiries and buying/selling guidance",systemPrompt:`You are a professional real estate agent helping clients with property inquiries, buying, and selling.

PERSONALITY:
- Knowledgeable about real estate markets
- Enthusiastic and helpful
- Patient with client questions
- Results-oriented

EXPERTISE:
- Property listings and searches
- Market analysis
- Buying process guidance
- Selling strategies
- Neighborhood information
- Financing options

COMMUNICATION STYLE:
- "I'd be happy to help you find the perfect property..."
- "Based on your budget, here are some great options..."
- "The market in that area is currently..."
- "Let me schedule a viewing for you..."
- "Here's what you need to know about the buying process..."

SERVICES:
- Property search assistance
- Market trend information
- Neighborhood insights
- Viewing coordination
- Offer guidance
- Closing process explanation

Remember: Be helpful, knowledgeable, and guide clients through the real estate process with confidence and expertise.`,defaultLanguage:"English",defaultTone:"Friendly",premium:!0}];function Ae(){return!!(window.SpeechRecognition||window.webkitSpeechRecognition)&&!!window.speechSynthesis}const Le="vocco_talk_rate_limits",Me={apiCalls:{window:60*1e3,max:30},voiceSessions:{window:60*60*1e3,max:10},agentCreations:{window:60*60*1e3,max:20}};function De(t){try{const a=localStorage.getItem(Le);return(a?JSON.parse(a):{})[t]||{}}catch(a){return console.error("Error loading rate limit data:",a),{}}}function pe(t,a){if(!t)return{allowed:!1,remaining:0,resetAt:null};const n=Me[a];if(!n)return{allowed:!0,remaining:1/0,resetAt:null};const o=De(t)[a]||{count:0,resetAt:Date.now()+n.window},l=Date.now();l>o.resetAt&&(o.count=0,o.resetAt=l+n.window);const c=Math.max(0,n.max-o.count);return{allowed:o.count<n.max,remaining:c,resetAt:new Date(o.resetAt),limit:n.max}}const h={IDLE:"IDLE",CONNECTING:"CONNECTING",CONNECTED:"CONNECTED",ERROR:"ERROR"};function Oe({agentConfig:t,onClose:a,voiceSettings:n={}}){var me,ue;const[r,o]=i.useState(h.IDLE),[l,c]=i.useState([]),[g,T]=i.useState(!1),[N,p]=i.useState(!1),[v,S]=i.useState(!1),[Y,ie]=i.useState(!1),[R,b]=i.useState(null),[oe,ee]=i.useState(!1),[F,le]=i.useState(!1),j=i.useRef(null),q=i.useRef(0),A=i.useRef(0),te={voiceName:n.voiceName||"Kore",speakingRate:n.speakingRate||1,pitch:n.pitch||0,...n},w=i.useRef(null),s=i.useRef(null),x=i.useRef(0),u=i.useRef(new Set),O=i.useRef(null),B=i.useRef(null),se=i.useRef(null),G=i.useRef(null),z=i.useRef(null),H=i.useRef(null),Z=i.useRef(!1);i.useEffect(()=>{if(!z.current||r!==h.CONNECTED)return;const m=document.getElementById("voiceVisualizer");if(!m)return;const d=m.getContext("2d"),K=z.current,J=K.frequencyBinCount,V=new Uint8Array(J),re=()=>{H.current=requestAnimationFrame(re),K.getByteFrequencyData(V),d.fillStyle="transparent",d.fillRect(0,0,m.width,m.height);const f=m.width/J*2.5;let k=0;for(let L=0;L<J;L++){const C=V[L]/255*m.height*.8,M=d.createLinearGradient(0,m.height,0,m.height-C);M.addColorStop(0,"rgba(91, 140, 90, 0.3)"),M.addColorStop(.5,"rgba(91, 140, 90, 0.6)"),M.addColorStop(1,"rgba(91, 140, 90, 1)"),d.fillStyle=M,d.fillRect(k,m.height/2-C/2,f,C),k+=f+1}};return re(),()=>{H.current&&cancelAnimationFrame(H.current)}},[r]);const $=i.useCallback(async()=>{const m=D();if(B.current){try{await B.current.close()}catch(d){console.warn("Error closing session:",d)}B.current=null}if(t!=null&&t.id&&j.current){const d=(Date.now()-j.current)/1e3/60;Te(t.id,{conversations:q.current,apiCalls:A.current,voiceMinutes:d}),m&&Re(m.id,{voiceMinutes:d,apiCalls:A.current})}if(m&&(t!=null&&t.id)&&l.length>0&&he(m.id)){const d=j.current?(Date.now()-j.current)/1e3:0;ge(m.id,t.id,l,{duration:d,startedAt:new Date(j.current).toISOString(),endedAt:new Date().toISOString()})}if(G.current&&(G.current.getTracks().forEach(d=>d.stop()),G.current=null),se.current&&(se.current.disconnect(),se.current=null),w.current&&w.current.state!=="closed"){try{await w.current.close().catch(console.warn)}catch(d){console.warn("Error closing input audio context:",d)}w.current=null}if(s.current&&s.current.state!=="closed"){try{await s.current.close().catch(console.warn)}catch(d){console.warn("Error closing output audio context:",d)}s.current=null}u.current.forEach(d=>{try{d.stop()}catch{}}),u.current.clear(),H.current&&(cancelAnimationFrame(H.current),H.current=null),o(h.IDLE),p(!1),S(!1),b(null),O.current=null,z.current=null,j.current=null,Z.current=!1},[t,l]),de=async()=>{try{if(o(h.CONNECTING),c([]),b(null),!t||!t.systemPrompt){b("Agent configuration is missing. Please provide a system prompt."),o(h.ERROR);return}const m=D();let d="";if(m&&(d=ye(m.id)||""),d||(d=""),!d){b("Please set your API key in Profile settings or VITE_GEMINI_API_KEY in .env.local"),o(h.ERROR);return}const K=new Ce({apiKey:d});w.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),s.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),z.current=s.current.createAnalyser(),z.current.fftSize=256;const J=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});G.current=J;let V=t.systemPrompt;t.tone&&(V+=`

TONE: ${t.tone}. Ensure your responses match this tone consistently.`),t.language&&(V+=`

LANGUAGE: Primary language is ${t.language}. Respond naturally in this language.`);const re=K.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",config:{responseModalities:[Se.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:te.voiceName}}},systemInstruction:V,inputAudioTranscription:{},outputAudioTranscription:{}},callbacks:{onopen:async()=>{o(h.CONNECTED),j.current=Date.now(),q.current=0,A.current=0;try{const f=await O.current;B.current=f}catch(f){console.error("Failed to resolve session:",f),b("Failed to establish connection. Please try again."),o(h.ERROR);return}if(w.current&&G.current){const f=w.current.createMediaStreamSource(G.current),k=w.current.createScriptProcessor(4096,1,1);se.current=k,k.onaudioprocess=L=>{if(Z.current){S(!1);return}const C=L.inputBuffer.getChannelData(0),U=Math.sqrt(C.reduce((P,y)=>P+y*y,0)/C.length)>.01;S(U),U&&!F&&le(!0);const Q=D();if(Q&&U){const P=pe(Q.id,"apiCalls");if(!P.allowed){S(!1),b(`API rate limit exceeded. Please wait ${Math.ceil((P.resetAt-Date.now())/1e3)} seconds.`);return}}const ae=Ee(C);if(B.current)try{B.current.sendRealtimeInput({media:ae})}catch(P){console.error("Failed to send audio input:",P)}},f.connect(k),k.connect(w.current.destination)}},onmessage:async f=>{var L,C,M,U,Q,ae,P;if((L=f.serverContent)!=null&&L.inputTranscription){const y=f.serverContent.inputTranscription.text;c(I=>{var E;const W=[...I,{text:y,sender:"user",timestamp:Date.now()}].slice(-20);return(I.length===0||((E=I[I.length-1])==null?void 0:E.sender)==="agent")&&(q.current+=1),W}),A.current+=1}if((C=f.serverContent)!=null&&C.outputTranscription){const y=f.serverContent.outputTranscription.text;c(I=>[...I,{text:y,sender:"agent",timestamp:Date.now()}].slice(-20)),A.current+=1}const k=(ae=(Q=(U=(M=f.serverContent)==null?void 0:M.modelTurn)==null?void 0:U.parts[0])==null?void 0:Q.inlineData)==null?void 0:ae.data;if(k&&s.current)try{p(!0),S(!1);const y=s.current;x.current=Math.max(x.current,y.currentTime);const I=await Pe(Ie(k),y,24e3,1),W=y.createGain();W.gain.value=1;const E=y.createBufferSource();E.buffer=I,E.connect(W),W.connect(z.current),W.connect(y.destination),E.onended=()=>{u.current.delete(E),u.current.size===0&&p(!1)},u.current.add(E),E.start(x.current),x.current+=I.duration}catch(y){console.error("Error processing audio output:",y),p(!1)}(P=f.serverContent)!=null&&P.interrupted&&(u.current.forEach(y=>y.stop()),u.current.clear(),x.current=0,p(!1))},onerror:f=>{console.error("Session Error:",f),b("Connection error. Please try again."),o(h.ERROR),$()},onclose:()=>{o(h.IDLE),$()}}});O.current=re}catch(m){console.error("Failed to start session:",m),m.name==="NotAllowedError"?b("Microphone access denied. Please allow microphone access and try again."):m.name==="NotFoundError"?b("No microphone found. Please connect a microphone and try again."):b("Failed to start voice session. Please check your API key and try again."),o(h.ERROR)}};i.useEffect(()=>{ee(Ae())},[]),i.useEffect(()=>()=>{$()},[$]);const xe=()=>{Z.current=!Z.current,T(Z.current),S(!1)};return t?e.jsxs("div",{className:"w-full bg-surface-card rounded-2xl shadow-xl overflow-hidden border border-white/5",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-primary/10 p-4 flex items-center justify-between border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center text-primary font-bold text-xl border border-primary/30",children:((ue=(me=t.agentName)==null?void 0:me[0])==null?void 0:ue.toUpperCase())||"V"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.agentName||"Voice Agent"}),e.jsxs("p",{className:"text-xs text-secondary-grey",children:[t.language," â€¢ ",t.tone," Tone"]})]})]}),r===h.CONNECTED&&e.jsxs("span",{className:"flex h-2 w-2 relative",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),a&&e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-secondary-grey",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"relative h-32 bg-surface-dark rounded-xl border border-white/5 overflow-hidden flex items-center justify-center",children:r===h.CONNECTED?e.jsxs(e.Fragment,{children:[e.jsx("canvas",{id:"voiceVisualizer",width:600,height:128,className:"w-full h-full"}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap items-center gap-2",children:[F&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/30 border border-primary/50 rounded-full",children:[e.jsx("span",{className:"material-symbols-outlined text-xs text-primary",children:"mic"}),e.jsx("span",{className:"text-xs text-primary font-medium",children:"Ready"})]}),v&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/20 border border-primary/30 rounded-full animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-ping"}),e.jsx("span",{className:"text-xs text-primary font-medium",children:"Listening..."})]}),Y&&!N&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white/10 border border-white/20 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-spin"}),e.jsx("span",{className:"text-xs text-white font-medium",children:"Processing..."})]}),N&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-accent/20 border border-accent/30 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-accent font-medium",children:"Speaking..."})]})]})]}):r===h.CONNECTING?e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-secondary-grey",children:"Connecting..."})]}):e.jsxs("div",{className:"flex flex-col items-center gap-3 text-secondary-grey",children:[e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),e.jsx("p",{className:"text-sm",children:"Ready to start conversation"})]})}),R&&e.jsx(fe,{title:"Connection Error",message:R,onRetry:r===h.ERROR?de:null,onDismiss:()=>b(null)}),r===h.CONNECTED&&e.jsx("div",{className:"bg-surface-dark rounded-xl p-4 border border-white/5 max-h-[300px] overflow-y-auto",children:e.jsx("div",{className:"space-y-3",children:l.length===0?e.jsx("div",{className:"text-center py-4",children:r===h.CONNECTED&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-secondary-grey text-sm",children:v?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary animate-pulse",children:"mic"}),"Listening... Speak now"]}):Y?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary/30 border-t-primary rounded-full animate-spin"}),"Processing your message..."]}):N?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-accent animate-pulse",children:"volume_up"}),"Agent is speaking..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"mic"}),"Start speaking to begin conversation"]})}),!F&&e.jsx("p",{className:"text-xs text-secondary-grey/70",children:'Tip: Say "Hello" or ask a question to start'})]})}):l.map((m,d)=>e.jsx("div",{className:`flex ${m.sender==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2`,children:e.jsx("div",{className:`max-w-[85%] rounded-xl px-4 py-2 text-sm ${m.sender==="user"?"bg-primary text-white":"bg-surface-card text-white border border-white/5"}`,children:m.text})},d))})}),e.jsx("div",{className:"flex items-center justify-center gap-4",children:r===h.IDLE||r===h.ERROR?e.jsxs("button",{onClick:de,disabled:r===h.CONNECTING,className:"h-14 px-10 rounded-full bg-primary hover:bg-primary-glow text-white font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.5)] hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Start Voice Session"]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:xe,className:`h-12 w-12 rounded-full flex items-center justify-center transition-all border ${g?"bg-accent/20 text-accent border-accent/30":"bg-white/5 text-white border-white/10 hover:bg-white/10"}`,title:g?"Unmute":"Mute",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),e.jsxs("button",{onClick:$,className:"h-14 px-8 rounded-full bg-accent hover:bg-accent/80 text-white font-bold transition-all shadow-lg shadow-accent/20 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 rotate-[135deg]",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})}),"End Session"]})]})}),r===h.CONNECTED&&e.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-secondary-grey flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsx("span",{children:"Connected"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"speed"}),e.jsx("span",{children:"~42ms latency"})]}),oe&&e.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"volume_up"}),e.jsx("span",{children:"Web Speech API Available"})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 text-accent",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"mic_off"}),e.jsx("span",{children:"Muted"})]})]}),r===h.IDLE&&e.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"info"}),e.jsxs("div",{className:"flex-1 text-sm text-secondary-grey",children:[e.jsx("p",{className:"font-medium text-white mb-1",children:"Real-time Voice Processing"}),e.jsx("p",{className:"text-xs leading-relaxed",children:"This agent uses Google Gemini's native audio capabilities for ultra-low latency voice interaction. Audio is processed in real-time with minimal delay."})]})]})})]})]}):e.jsx("div",{className:"bg-surface-card rounded-2xl p-8 border border-white/5 text-center",children:e.jsx("p",{className:"text-secondary-grey",children:"No agent configuration provided"})})}const Be=[{id:"customer-support",title:"Customer Support Interaction",description:"Example of a customer support conversation",agentName:"Support Agent",interactions:[{user:"Hi, I'm having trouble with my order",agent:"Hello! I'm sorry to hear you're having issues. I'd be happy to help you with your order. Can you please provide your order number?",timestamp:0},{user:"It's order #12345",agent:"Thank you. Let me look that up for you. I can see your order was shipped yesterday and should arrive by Friday. Is there a specific issue you're experiencing?",timestamp:5},{user:"I haven't received a tracking number",agent:"I understand your concern. Let me send you the tracking information right away. You should receive an email with the tracking details within the next few minutes.",timestamp:10}]},{id:"sales-assistant",title:"Sales Conversation",description:"Example of a sales assistant interaction",agentName:"Sales Assistant",interactions:[{user:"I'm looking for a new laptop",agent:"Great! I'd love to help you find the perfect laptop. What will you primarily be using it for? Work, gaming, or general use?",timestamp:0},{user:"Mostly for work and video editing",agent:"Perfect! For video editing, I'd recommend our Pro series with at least 16GB RAM and a dedicated graphics card. What's your budget range?",timestamp:6},{user:"Around $1500",agent:"Excellent! I have a few options in that range that would be perfect for video editing. The ProBook 15 with 16GB RAM and RTX 3050 is currently on sale for $1,499. Would you like to hear more about its features?",timestamp:12}]},{id:"personal-tutor",title:"Tutoring Session",description:"Example of an educational interaction",agentName:"Math Tutor",interactions:[{user:"I'm struggling with quadratic equations",agent:"No worries! Quadratic equations can be tricky at first, but we'll work through this together. Do you understand the general form: axÂ² + bx + c = 0?",timestamp:0},{user:"Yes, I understand that part",agent:"Great! Now, there are several methods to solve them. The most common is factoring. Let's start with a simple example: xÂ² + 5x + 6 = 0. Can you think of two numbers that multiply to 6 and add to 5?",timestamp:8},{user:"2 and 3?",agent:"Exactly right! So we can factor it as (x + 2)(x + 3) = 0. This means x = -2 or x = -3. You're getting it!",timestamp:15}]},{id:"healthcare",title:"Healthcare Assistant",description:"Example of a healthcare information interaction",agentName:"Health Assistant",interactions:[{user:"What are the symptoms of a common cold?",agent:"Common cold symptoms typically include a runny or stuffy nose, sneezing, sore throat, cough, mild headache, and sometimes a low-grade fever. These usually develop gradually over a few days.",timestamp:0},{user:"How long does it usually last?",agent:"Most colds resolve within 7 to 10 days, though some symptoms like a cough can persist for up to 2 weeks. If symptoms worsen or persist longer, I'd recommend consulting with a healthcare professional.",timestamp:8},{user:"What can I do to feel better?",agent:"Rest, stay hydrated, use a humidifier, and consider over-the-counter remedies for specific symptoms. However, for personalized medical advice, please consult with your doctor.",timestamp:15}]}];function Ge(){return Be}function ze({onSelectExample:t}){const[a,n]=i.useState(null),r=Ge(),o=l=>{n(l),t&&t(l)};return e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Voice Interaction Examples"}),e.jsx("p",{className:"text-sm text-secondary-grey",children:"See how voice agents interact in real conversations"})]}),e.jsx("div",{className:"space-y-4",children:r.map(l=>e.jsxs("button",{onClick:()=>o(l),className:`w-full p-4 bg-surface-dark rounded-xl border text-left transition-all ${(a==null?void 0:a.id)===l.id?"border-primary/50 bg-primary/5":"border-white/5 hover:border-primary/30"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white mb-1",children:l.title}),e.jsx("p",{className:"text-xs text-secondary-grey",children:l.description})]}),e.jsx("span",{className:"material-symbols-outlined text-primary",children:(a==null?void 0:a.id)===l.id?"check_circle":"play_circle"})]}),(a==null?void 0:a.id)===l.id&&e.jsx("div",{className:"mt-4 space-y-3 pt-4 border-t border-white/5",children:l.interactions.map((c,g)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary text-xs font-bold flex-shrink-0",children:"U"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"User"}),e.jsx("div",{className:"text-sm text-white bg-primary/10 rounded-lg p-2",children:c.user})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-card border border-white/10 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:"AI"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:l.agentName}),e.jsx("div",{className:"text-sm text-white bg-surface-card border border-white/10 rounded-lg p-2",children:c.agent})]})]})]},g))})]},l.id))}),e.jsx("div",{className:"mt-6 p-4 bg-primary/10 border border-primary/20 rounded-xl",children:e.jsxs("p",{className:"text-xs text-secondary-grey",children:[e.jsx("span",{className:"material-symbols-outlined text-xs align-middle mr-1",children:"lightbulb"}),"These examples show natural conversation flows. Your agents will adapt based on your custom prompts."]})})]})}function _(t){if(!t)return{wordCount:0,charCount:0,sentenceCount:0,paragraphCount:0,complexity:"empty",estimatedTokens:0};const a=t.trim().split(/\s+/).filter(Boolean),n=t.split(/[.!?]+/).filter(c=>c.trim().length>0),r=t.split(/\n\s*\n/).filter(c=>c.trim().length>0),o=Math.ceil(t.length/4);let l="simple";return a.length>500?l="very-complex":a.length>200?l="complex":a.length>100?l="moderate":a.length>50&&(l="simple"),{wordCount:a.length,charCount:t.length,sentenceCount:n.length,paragraphCount:r.length,complexity:l,estimatedTokens:o,averageWordsPerSentence:n.length>0?Math.round(a.length/n.length):0,averageCharsPerWord:a.length>0?Math.round(t.length/a.length):0}}function He(t){const a=[],n=t.split(/\s+/).slice(0,100).join(" ");a.push({name:"Simple",prompt:n,description:"Concise version (50-100 words)",complexity:_(n)});const r=t.split(/\s+/).slice(0,200).join(" ");a.push({name:"Moderate",prompt:r,description:"Balanced version (100-200 words)",complexity:_(r)});const o=t.split(/\s+/).slice(0,500).join(" ");return a.push({name:"Complex",prompt:o,description:"Detailed version (200-500 words)",complexity:_(o)}),a.push({name:"Full",prompt:t,description:"Complete original prompt",complexity:_(t)}),a}function Ve(t){const a=[],n=[];if(!t||t.trim().length===0)return a.push("Prompt is empty"),{valid:!1,issues:a,suggestions:n};const r=_(t);r.wordCount<50&&(a.push("Prompt is too short (less than 50 words)"),n.push("Add more details about personality, behavior, and responsibilities")),r.wordCount>1e3&&(a.push("Prompt is very long (over 1000 words)"),n.push("Consider breaking into sections or simplifying")),r.paragraphCount===0&&(a.push("No paragraph breaks detected"),n.push("Use paragraphs to organize information"));const o=/personality|tone|style|character/i.test(t),l=/responsibilit|role|task|duty/i.test(t),c=/example|instance|case|scenario/i.test(t);return o||n.push("Consider adding personality traits or tone description"),l||n.push("Consider adding role and responsibilities"),c||n.push("Consider adding example phrases or scenarios"),/as an ai|as a language model/i.test(t)&&(a.push("Contains generic AI language"),n.push(`Remove phrases like "as an AI" - be specific about the agent's role`)),t.length>5e3&&(a.push("Prompt exceeds recommended length"),n.push("Very long prompts may impact performance - consider condensing")),{valid:a.length===0,issues:a,suggestions:n,complexity:r}}function Ue({prompt:t,onSelectTest:a}){const[n,r]=i.useState(null),[o,l]=i.useState(!1),c=t?_(t):null,g=t?Ve(t):null,T=t?He(t):[],N=p=>{r(p),a&&a(p.prompt)};return t?e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Prompt Analysis & Testing"}),e.jsxs("button",{onClick:()=>l(!o),className:"text-sm text-primary hover:text-primary-glow transition-colors",children:[o?"Hide":"Show"," Analysis"]})]}),o&&c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-surface-dark rounded-xl p-4 border border-white/5",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"Words"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:c.wordCount})]}),e.jsxs("div",{className:"bg-surface-dark rounded-xl p-4 border border-white/5",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"Characters"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:c.charCount.toLocaleString()})]}),e.jsxs("div",{className:"bg-surface-dark rounded-xl p-4 border border-white/5",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"Sentences"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:c.sentenceCount})]}),e.jsxs("div",{className:"bg-surface-dark rounded-xl p-4 border border-white/5",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"Est. Tokens"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:c.estimatedTokens})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"Complexity:"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${c.complexity==="simple"?"bg-primary/20 text-primary border border-primary/30":c.complexity==="moderate"?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":c.complexity==="complex"?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-accent/20 text-accent border border-accent/30"}`,children:c.complexity.toUpperCase()})]})]}),o&&g&&e.jsxs("div",{className:"space-y-3",children:[g.issues.length>0&&e.jsxs("div",{className:"bg-accent/10 border border-accent/30 rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-bold text-accent mb-2",children:"Issues Found"}),e.jsx("ul",{className:"space-y-1",children:g.issues.map((p,v)=>e.jsxs("li",{className:"text-xs text-accent flex items-start gap-2",children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:p})]},v))})]}),g.suggestions.length>0&&e.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-bold text-primary mb-2",children:"Suggestions"}),e.jsx("ul",{className:"space-y-1",children:g.suggestions.map((p,v)=>e.jsxs("li",{className:"text-xs text-secondary-grey flex items-start gap-2",children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:p})]},v))})]}),g.valid&&g.issues.length===0&&e.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"check_circle"}),e.jsx("span",{className:"text-sm font-bold text-primary",children:"Prompt quality looks good!"})]})})]}),T.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"Test Different Complexities"}),e.jsx("div",{className:"space-y-2",children:T.map((p,v)=>e.jsxs("button",{onClick:()=>N(p),className:`w-full p-4 bg-surface-dark rounded-xl border text-left transition-all ${(n==null?void 0:n.name)===p.name?"border-primary/50 bg-primary/5":"border-white/5 hover:border-primary/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-bold text-white",children:p.name}),e.jsxs("span",{className:"text-xs text-secondary-grey",children:[p.complexity.wordCount," words"]})]}),e.jsx("p",{className:"text-xs text-secondary-grey",children:p.description}),(n==null?void 0:n.name)===p.name&&e.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:e.jsxs("p",{className:"text-xs text-white font-mono bg-black/30 p-2 rounded",children:[p.prompt.substring(0,200),"..."]})})]},v))})]})]}):e.jsx("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:e.jsx("p",{className:"text-secondary-grey text-sm text-center",children:"Enter a prompt to analyze and test"})})}function We({editingAgent:t=null,onAgentCreated:a,onCancel:n}){var A,te,w;const[r,o]=i.useState({agentName:"",systemPrompt:"",language:"English",tone:"Professional",selectedTemplate:null}),[l,c]=i.useState(!1),[g,T]=i.useState(!1),[N,p]=i.useState({}),[v,S]=i.useState(!1),[Y,ie]=i.useState(null);i.useEffect(()=>{t&&o({agentName:t.agentName||"",systemPrompt:t.systemPrompt||"",language:t.language||"English",tone:t.tone||"Professional",selectedTemplate:t.selectedTemplate||null})},[t]);const R=(s,x)=>{o(u=>({...u,[s]:x})),N[s]&&p(u=>({...u,[s]:null}))},b=s=>{const x=D();if(s.premium&&x){const u=ce(x.id,"usePremiumTemplate");if(!u.allowed){alert(u.reason);return}}o(u=>({...u,selectedTemplate:s.id,systemPrompt:s.systemPrompt,language:s.defaultLanguage,tone:s.defaultTone})),c(!1),T(!1)},oe=()=>{o(s=>({...s,selectedTemplate:null,systemPrompt:""}))},ee=()=>{const s={};if(r.agentName.trim()?r.agentName.trim().length<3&&(s.agentName="Agent name must be at least 3 characters"):s.agentName="Agent name is required",!r.systemPrompt.trim())s.systemPrompt="System prompt is required";else{const u=we(r.systemPrompt);u.valid?r.systemPrompt.trim().length<50&&(s.systemPrompt="System prompt should be at least 50 characters for best results"):s.systemPrompt=u.errors.join(", ")}const x=D();if(x){const u=pe(x.id,"agentCreations");u.allowed||(s.submit=`Rate limit exceeded. Please wait until ${u.resetAt.toLocaleTimeString()}`);const O=ce(x.id,"createAgent");O.allowed||(s.submit=O.reason)}return p(s),Object.keys(s).length===0},F=s=>{if(s.preventDefault(),!ee())return;D();const x=Ne(r.systemPrompt.trim()),u={id:t==null?void 0:t.id,agentName:r.agentName.trim(),systemPrompt:x,language:r.language,tone:r.tone,voice:r.voice||"Kore",speakingSpeed:r.speakingSpeed||1,pitch:r.pitch||0,createdAt:(t==null?void 0:t.createdAt)||new Date().toISOString()};navigate("/test-agent",{state:{agentData:u}})},le=()=>{if(!ee())return;const s={agentName:r.agentName.trim()||"Test Agent",systemPrompt:r.systemPrompt.trim(),language:r.language,tone:r.tone};ie(s),S(!0),setTimeout(()=>{var x;(x=document.getElementById("voice-runtime"))==null||x.scrollIntoView({behavior:"smooth",block:"start"})},100)},j=r.systemPrompt.trim().split(/\s+/).filter(Boolean).length,q=r.systemPrompt.length;return e.jsxs("div",{className:"relative pt-32 pb-20 w-full min-h-screen bg-background-dark",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] rounded-full bg-primary/5 blur-[120px] mix-blend-screen animate-pulse-slow"}),e.jsx("div",{className:"absolute top-[10%] right-[-10%] w-[50%] h-[50%] rounded-full bg-secondary-dark/20 blur-[100px] mix-blend-screen"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[40%] h-[40%] rounded-full bg-accent/5 blur-[120px] mix-blend-screen"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImEiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTTAgNDBWMGg0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=')] opacity-[0.03] mix-blend-overlay"})]}),e.jsxs("div",{className:"relative z-10 max-w-[1200px] mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[n&&e.jsx("div",{className:"flex justify-start mb-6",children:e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-secondary-grey hover:text-white transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),"Back to Dashboard"]})}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-primary/20 bg-primary/5 backdrop-blur-md mb-6 hover:bg-primary/10 transition-colors cursor-default",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),e.jsx("span",{className:"text-xs font-semibold text-primary uppercase tracking-widest",children:t?"Edit Agent":"Step 1: Agent Creation"})]}),e.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight leading-[1.1] text-transparent bg-clip-text bg-gradient-to-b from-white via-white to-white/50 mb-6 drop-shadow-sm",children:t?"Edit Your Voice Agent":"Create Your Voice Agent"}),e.jsx("p",{className:"text-lg text-secondary-grey font-light leading-relaxed max-w-2xl mx-auto",children:t?"Update your agent's personality, behavior, and capabilities.":"Define your agent's personality, behavior, and capabilities with a custom prompt. Start from scratch or use our templates."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("label",{className:"block text-sm font-bold text-white mb-2",children:["Agent Name ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsx("input",{type:"text",value:r.agentName,onChange:s=>R("agentName",s.target.value),placeholder:"e.g., Customer Support Bot, Sales Assistant",className:`w-full px-4 py-3 bg-surface-dark border rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 transition-all ${N.agentName?"border-accent focus:ring-accent/50":"border-white/10 focus:border-primary focus:ring-primary/50"}`}),N.agentName&&e.jsx("p",{className:"mt-2 text-sm text-accent",children:N.agentName})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-white",children:"Start from Template (Optional)"}),r.selectedTemplate&&e.jsx("button",{type:"button",onClick:oe,className:"text-xs text-secondary-grey hover:text-white transition-colors",children:"Clear Template"})]}),r.selectedTemplate?e.jsx("div",{className:"p-4 bg-primary/10 border border-primary/20 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:(A=[...ne,...X].find(s=>s.id===r.selectedTemplate))==null?void 0:A.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-white font-bold",children:(te=[...ne,...X].find(s=>s.id===r.selectedTemplate))==null?void 0:te.name}),X.find(s=>s.id===r.selectedTemplate)&&e.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-primary/20 border border-primary/30 rounded-full text-primary font-bold",children:"PREMIUM"})]}),e.jsx("p",{className:"text-xs text-secondary-grey",children:(w=[...ne,...X].find(s=>s.id===r.selectedTemplate))==null?void 0:w.description})]})]})}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{type:"button",onClick:()=>{c(!l),T(!1)},className:"w-full px-4 py-3 bg-surface-dark border border-white/10 rounded-xl text-white hover:border-primary/50 transition-all flex items-center justify-between",children:[e.jsx("span",{className:"text-secondary-grey",children:"Browse Standard Templates"}),e.jsx("svg",{className:"w-5 h-5 text-secondary-grey",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsxs("button",{type:"button",onClick:()=>{const s=D();if(!s){alert("Please sign in to access premium templates");return}const x=ce(s.id,"usePremiumTemplate");if(!x.allowed){alert(x.reason);return}T(!g),c(!1)},className:"w-full px-4 py-3 bg-gradient-to-r from-primary/20 to-primary/10 border border-primary/30 rounded-xl text-white hover:border-primary/50 transition-all flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary",children:"â­"}),e.jsx("span",{children:"Browse Premium Templates"})]}),e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),l&&e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3 max-h-[400px] overflow-y-auto p-2",children:ne.map(s=>e.jsx("button",{type:"button",onClick:()=>b(s),className:"p-4 bg-surface-dark border border-white/5 rounded-xl hover:border-primary/30 hover:bg-surface-card transition-all text-left group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"text-sm font-bold text-white group-hover:text-primary transition-colors",children:s.name}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-white/5 rounded-full text-secondary-grey",children:s.category})]}),e.jsx("p",{className:"text-xs text-secondary-grey leading-relaxed",children:s.description})]})]})},s.id))}),g&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-primary/10 border border-primary/20 rounded-lg",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"star"}),e.jsx("span",{className:"text-sm text-primary font-medium",children:"Premium Templates - Pro Tier Required"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-[400px] overflow-y-auto p-2",children:X.map(s=>e.jsxs("button",{type:"button",onClick:()=>b(s),className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20 rounded-xl hover:border-primary/40 hover:bg-primary/15 transition-all text-left group relative",children:[e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-primary/20 border border-primary/30 rounded-full text-primary font-bold",children:"PREMIUM"})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{className:"flex-1 pr-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("h4",{className:"text-sm font-bold text-white group-hover:text-primary transition-colors",children:s.name})}),e.jsx("p",{className:"text-xs text-secondary-grey leading-relaxed",children:s.description})]})]})]},s.id))})]})]}),e.jsx(be,{}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-white",children:["System Prompt ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsxs("div",{className:"text-xs text-secondary-grey",children:[j," words â€¢ ",q," characters"]})]}),e.jsx("textarea",{value:r.systemPrompt,onChange:s=>R("systemPrompt",s.target.value),placeholder:"Describe your agent's personality, role, communication style, and key responsibilities. Be specific about how you want them to behave, respond, and interact with users...",rows:12,className:`w-full px-4 py-3 bg-surface-dark border rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 transition-all resize-none font-mono text-sm ${N.systemPrompt?"border-accent focus:ring-accent/50":"border-white/10 focus:border-primary focus:ring-primary/50"}`}),N.systemPrompt&&e.jsx("p",{className:"mt-2 text-sm text-accent",children:N.systemPrompt}),e.jsx("p",{className:"mt-2 text-xs text-secondary-grey",children:"Tip: Include personality traits, communication style, key responsibilities, and example phrases for best results."})]}),r.systemPrompt.trim().length>0&&e.jsx(Ue,{prompt:r.systemPrompt,onSelectTest:s=>{R("systemPrompt",s)}}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsx("label",{className:"block text-sm font-bold text-white mb-3",children:"Language"}),e.jsx("select",{value:r.language,onChange:s=>R("language",s.target.value),className:"w-full px-4 py-3 bg-surface-dark border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",children:je.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsx("label",{className:"block text-sm font-bold text-white mb-3",children:"Tone / Personality"}),e.jsx("select",{value:r.tone,onChange:s=>R("tone",s.target.value),className:"w-full px-4 py-3 bg-surface-dark border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",children:ke.map(s=>e.jsxs("option",{value:s.value,children:[s.label," - ",s.description]},s.value))})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 h-14 px-8 rounded-full bg-primary hover:bg-primary-glow text-white font-bold text-base transition-all shadow-[0_0_30px_-5px_rgba(91,140,90,0.5)] hover:scale-105 flex items-center justify-center gap-2",children:[t?"Save Changes":"Create & Test Agent",e.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_forward"})]}),e.jsxs("button",{type:"button",onClick:le,disabled:!r.systemPrompt.trim(),className:"h-14 px-8 rounded-full bg-white/5 border border-white/10 hover:border-white/20 text-white font-bold text-base transition-all flex items-center justify-center gap-2 backdrop-blur-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"mic"}),"Test Voice"]}),e.jsx(ve,{to:"/product",className:"h-14 px-8 rounded-full bg-white/5 border border-white/10 hover:border-white/20 text-white font-bold text-base transition-all flex items-center justify-center gap-2 backdrop-blur-sm",children:"View Examples"})]})]}),v&&Y&&e.jsxs("div",{id:"voice-runtime",className:"mt-12 animate-in fade-in slide-in-from-bottom-4",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Test Your Agent"}),e.jsx("p",{className:"text-secondary-grey",children:"Start a voice conversation to test your agent in real-time"})]}),e.jsx(Oe,{agentConfig:Y,onClose:()=>{S(!1),ie(null)}})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(ze,{}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"lightbulb"}),"Tips for Great Prompts"]}),e.jsxs("ul",{className:"space-y-3 text-sm text-secondary-grey",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-1",children:"â€¢"}),e.jsx("span",{children:"Be specific about personality traits and communication style"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-1",children:"â€¢"}),e.jsx("span",{children:"Include example phrases or responses you want to hear"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-1",children:"â€¢"}),e.jsx("span",{children:"Define the agent's role and key responsibilities clearly"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-1",children:"â€¢"}),e.jsx("span",{children:"Specify how to handle edge cases or difficult situations"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-1",children:"â€¢"}),e.jsx("span",{children:"Mention cultural context if relevant (e.g., Urdu politeness)"})]})]})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-primary",children:"preview"}),"Agent Preview"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-secondary-grey uppercase tracking-wider mb-1",children:"Name"}),e.jsx("div",{className:"text-white font-bold",children:r.agentName||"Untitled Agent"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-secondary-grey uppercase tracking-wider mb-1",children:"Language"}),e.jsx("div",{className:"text-white",children:r.language})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-secondary-grey uppercase tracking-wider mb-1",children:"Tone"}),e.jsx("div",{className:"text-white",children:r.tone})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-secondary-grey uppercase tracking-wider mb-1",children:"Prompt Length"}),e.jsxs("div",{className:"text-white",children:[j," words"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 border border-primary/20",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Platform Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"Active Agents"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:"850+"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"Avg. Latency"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:"42ms"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"Success Rate"}),e.jsx("span",{className:"text-xl font-bold text-primary",children:"99.9%"})]})]})]})]})]})]})]})}const Je=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));export{We as C,Oe as V,Je as a};
