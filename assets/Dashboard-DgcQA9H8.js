import{j as e,g as A}from"./index-Br7EO8jg.js";import{r as l,L as M}from"./react-vendor-BWEkWSVM.js";import{V as L,C as I}from"./CreateAgent-CxaaPDM3.js";import{g as D,a as $,d as P}from"./agentStorage-skzjZbyJ.js";import{g as Z,c as U}from"./subscription-DxavPOeA.js";import"./agentTemplates-BDz5N5za.js";import"./google-vendor-CvX4IAyf.js";import"./audioUtils-BoSSlOMf.js";function z({agent:s,onDelete:N,onEdit:x}){var y,d;const[v,r]=l.useState(!1),[w,i]=l.useState(!1),[h,g]=l.useState("link"),n=`${window.location.origin}/agent/${s.id}`,u=`<iframe src="${n}" width="100%" height="600" frameborder="0" allow="microphone"></iframe>`,b=a=>{navigator.clipboard.writeText(a)},c=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=a=>{if(a<1)return"< 1 min";if(a<60)return`${Math.round(a)} min`;const f=Math.floor(a/60),C=Math.round(a%60);return`${f}h ${C}m`};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5 hover:border-primary/30 transition-all group",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center text-primary font-bold text-xl border border-primary/20",children:((d=(y=s.agentName)==null?void 0:y[0])==null?void 0:d.toUpperCase())||"A"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-primary transition-colors",children:s.agentName}),e.jsxs("p",{className:"text-xs text-secondary-grey",children:["Created ",c(s.createdAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-secondary-grey mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"language"}),s.language]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"tone"}),s.tone]})]})]})}),e.jsx("div",{className:"mb-4 p-3 bg-surface-dark rounded-xl border border-white/5",children:e.jsxs("p",{className:"text-xs text-secondary-grey line-clamp-2",children:[s.systemPrompt.substring(0,150),"..."]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-surface-dark rounded-lg p-3 border border-white/5",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"Conversations"}),e.jsx("div",{className:"text-lg font-bold text-white",children:s.conversations||0})]}),e.jsxs("div",{className:"bg-surface-dark rounded-lg p-3 border border-white/5",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"API Calls"}),e.jsx("div",{className:"text-lg font-bold text-white",children:s.apiCalls||0})]}),e.jsxs("div",{className:"bg-surface-dark rounded-lg p-3 border border-white/5",children:[e.jsx("div",{className:"text-xs text-secondary-grey mb-1",children:"Voice Time"}),e.jsx("div",{className:"text-lg font-bold text-white",children:p(s.voiceMinutes||0)})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>r(!0),className:"flex-1 px-4 py-2 bg-primary/10 hover:bg-primary/20 border border-primary/20 rounded-lg text-primary text-sm font-medium transition-all flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"mic"}),"Test"]}),e.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-white text-sm font-medium transition-all flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"share"}),"Share"]}),e.jsxs("button",{onClick:()=>x(s),className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-white text-sm font-medium transition-all flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"edit"}),"Edit"]}),e.jsxs("button",{onClick:()=>{confirm(`Are you sure you want to delete "${s.agentName}"?`)&&N(s.id)},className:"px-4 py-2 bg-accent/10 hover:bg-accent/20 border border-accent/20 rounded-lg text-accent text-sm font-medium transition-all flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"}),"Delete"]})]})]}),v&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(L,{agentConfig:s,onClose:()=>r(!1)})})}),w&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-2xl bg-surface-card rounded-2xl border border-white/10 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Agent"}),e.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-secondary-grey",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>g("link"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${h==="link"?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-secondary-grey border border-white/10 hover:bg-white/10"}`,children:"Share Link"}),e.jsx("button",{onClick:()=>g("embed"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${h==="embed"?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-secondary-grey border border-white/10 hover:bg-white/10"}`,children:"Embed Code"})]}),h==="link"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Shareable Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,readOnly:!0,className:"flex-1 px-4 py-2 bg-surface-dark border border-white/10 rounded-lg text-white text-sm"}),e.jsx("button",{onClick:()=>b(n),className:"px-6 py-2 bg-primary hover:bg-primary-glow text-white rounded-lg font-medium transition-all",children:"Copy"})]})]}),e.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-secondary-grey",children:"Anyone with this link can interact with your agent. Share it via email, social media, or embed it on your website."})})]}),h==="embed"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Embed Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("textarea",{value:u,readOnly:!0,rows:4,className:"flex-1 px-4 py-2 bg-surface-dark border border-white/10 rounded-lg text-white text-sm font-mono resize-none"}),e.jsx("button",{onClick:()=>b(u),className:"px-6 py-2 bg-primary hover:bg-primary-glow text-white rounded-lg font-medium transition-all self-start",children:"Copy"})]})]}),e.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-secondary-grey mb-2",children:"Paste this code into your website's HTML to embed the agent:"}),e.jsx("div",{className:"bg-surface-dark rounded p-2 text-xs text-secondary-grey font-mono",children:u})]})]})]})})]})}function W(){const[s,N]=l.useState([]),[x,v]=l.useState({totalAgents:0,totalConversations:0,totalApiCalls:0,totalVoiceMinutes:0}),[r,w]=l.useState(null),[i,h]=l.useState(null),[g,n]=l.useState("dashboard"),[u,b]=l.useState(null),[c,p]=l.useState("all");l.useEffect(()=>{d(),a(),y()},[]);const y=()=>{const t=A();if(t){const m=Z(t.id),o=U(t.id);w(m),h(o)}},d=()=>{const t=D();let m=t;c==="recent"?m=[...t].sort((o,j)=>new Date(j.updatedAt||j.createdAt)-new Date(o.updatedAt||o.createdAt)):c==="popular"&&(m=[...t].sort((o,j)=>(j.conversations||0)-(o.conversations||0))),N(m)},a=()=>{const t=$();v(t)},f=t=>{P(t)&&(d(),a())},C=t=>{b(t),n("create")},k=()=>{d(),a(),n("dashboard"),b(null)},S=t=>{if(t<1)return"< 1 min";if(t<60)return`${Math.round(t)} min`;const m=Math.floor(t/60),o=Math.round(t%60);return`${m}h ${o}m`};return g==="create"?e.jsx(I,{editingAgent:u,onAgentCreated:k,onCancel:()=>{n("dashboard"),b(null)}}):e.jsxs("div",{className:"relative pt-32 pb-20 w-full min-h-screen bg-background-dark",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] rounded-full bg-primary/5 blur-[120px] mix-blend-screen animate-pulse-slow"}),e.jsx("div",{className:"absolute top-[10%] right-[-10%] w-[50%] h-[50%] rounded-full bg-secondary-dark/20 blur-[100px] mix-blend-screen"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[40%] h-[40%] rounded-full bg-accent/5 blur-[120px] mix-blend-screen"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImEiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTTAgNDBWMGg0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=')] opacity-[0.03] mix-blend-overlay"})]}),e.jsxs("div",{className:"relative z-10 max-w-[1400px] mx-auto px-6",children:[e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight text-white mb-2",children:"Your Dashboard"}),e.jsx("p",{className:"text-lg text-secondary-grey",children:"Manage your voice agents and track usage"})]}),e.jsxs("button",{onClick:()=>n("create"),className:"h-12 px-6 rounded-full bg-primary hover:bg-primary-glow text-white font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.3)] hover:scale-105 flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Create Agent"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"Total Agents"}),e.jsx("span",{className:"material-symbols-outlined text-primary",children:"smart_toy"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:x.totalAgents}),r&&e.jsx("div",{className:"text-xs text-secondary-grey mt-1",children:r.maxAgents===-1?"Unlimited":`Limit: ${r.maxAgents}`})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"Conversations"}),e.jsx("span",{className:"material-symbols-outlined text-primary",children:"forum"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:x.totalConversations.toLocaleString()})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"API Calls"}),e.jsx("span",{className:"material-symbols-outlined text-primary",children:"api"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:x.totalApiCalls.toLocaleString()}),i&&e.jsxs("div",{className:`text-xs mt-1 ${i.exceeded.apiCalls?"text-accent":"text-secondary-grey"}`,children:[i.usage.apiCalls.toLocaleString()," / ",i.limits.apiCalls.toLocaleString()," this month"]})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-secondary-grey",children:"Voice Minutes"}),e.jsx("span",{className:"material-symbols-outlined text-primary",children:"timer"})]}),e.jsx("div",{className:"text-3xl font-bold text-white",children:S(x.totalVoiceMinutes)}),i&&e.jsxs("div",{className:`text-xs mt-1 ${i.exceeded.voiceMinutes?"text-accent":"text-secondary-grey"}`,children:[Math.round(i.usage.voiceMinutes)," / ",i.limits.voiceMinutes," this month"]})]})]}),r&&e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:`bg-surface-card rounded-2xl p-6 border ${r.id==="free"?"border-white/5":"border-primary/30"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-bold text-white",children:["Current Plan: ",r.name]}),r.id!=="free"&&e.jsxs("span",{className:"px-3 py-1 bg-primary/20 border border-primary/30 rounded-full text-primary text-xs font-bold",children:["$",r.price,"/month"]})]}),e.jsx("p",{className:"text-sm text-secondary-grey",children:r.id==="free"?"Upgrade to unlock premium features and higher limits":"You have access to all premium features"})]}),r.id==="free"&&e.jsx(M,{to:"/pricing",className:"px-6 py-3 bg-primary hover:bg-primary-glow text-white rounded-full font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.3)]",children:"Upgrade"})]})})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Your Agents"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{p("all"),d()},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${c==="all"?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-secondary-grey border border-white/10 hover:bg-white/10"}`,children:"All"}),e.jsx("button",{onClick:()=>{p("recent"),d()},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${c==="recent"?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-secondary-grey border border-white/10 hover:bg-white/10"}`,children:"Recent"}),e.jsx("button",{onClick:()=>{p("popular"),d()},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${c==="popular"?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-secondary-grey border border-white/10 hover:bg-white/10"}`,children:"Popular"})]})]}),s.length===0?e.jsxs("div",{className:"bg-surface-card rounded-2xl p-12 border border-white/5 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"material-symbols-outlined text-primary text-4xl",children:"smart_toy"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No agents yet"}),e.jsx("p",{className:"text-secondary-grey mb-6",children:"Create your first voice agent to get started"}),e.jsxs("button",{onClick:()=>n("create"),className:"h-12 px-8 rounded-full bg-primary hover:bg-primary-glow text-white font-bold transition-all shadow-[0_0_20px_-5px_rgba(91,140,90,0.3)] hover:scale-105 flex items-center gap-2 mx-auto",children:[e.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Create Your First Agent"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(t=>e.jsx(z,{agent:t,onDelete:f,onEdit:C},t.id))})]})]})]})}export{W as default};
