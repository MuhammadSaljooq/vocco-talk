import{j as e,g as Q,b as le,d as se}from"./index-Br7EO8jg.js";import{r as a,u as oe,d as ce}from"./react-vendor-BWEkWSVM.js";import{G as de,M as ue}from"./google-vendor-CvX4IAyf.js";import{d as me,a as xe,c as pe}from"./audioUtils-BoSSlOMf.js";import{s as re}from"./agentStorage-skzjZbyJ.js";import{r as he}from"./subscription-DxavPOeA.js";import{l as ge,t as fe}from"./agentTemplates-BDz5N5za.js";const n={IDLE:"IDLE",CONNECTING:"CONNECTING",CONNECTED:"CONNECTED",ERROR:"ERROR"};function ye({agentConfig:m,onConfigChange:p}){const[r,y]=a.useState([]),[l,x]=a.useState(n.IDLE),[P,w]=a.useState(!1),[c,N]=a.useState(!1),[h,g]=a.useState(!1),[B,f]=a.useState(null),[E,V]=a.useState(""),[t,j]=a.useState(0),[u,L]=a.useState("voice"),b=a.useRef(null),v=a.useRef(null),J=a.useRef(null),k=a.useRef(null),Z=a.useRef(null),D=a.useRef(null),M=a.useRef(null),I=a.useRef(null),G=a.useRef(0),C=a.useRef(new Set),X=a.useRef(null);a.useEffect(()=>{var s;(s=X.current)==null||s.scrollIntoView({behavior:"smooth"})},[r]),a.useEffect(()=>{if(!M.current||l!==n.CONNECTED){j(0);return}const s=M.current,i=new Uint8Array(s.frequencyBinCount),U=()=>{s.getByteFrequencyData(i);const Y=i.reduce((_,F)=>_+F,0)/i.length;j(Y/255),I.current=requestAnimationFrame(U)};return U(),()=>{I.current&&cancelAnimationFrame(I.current)}},[l]);const ae=async()=>{try{x(n.CONNECTING),f(null);const s=Q();let i="";if(s&&(i=le(s.id)||""),i||(i=""),!i){f("Please set your API key in Profile settings or VITE_GEMINI_API_KEY in .env.local"),x(n.ERROR);return}const U=new de({apiKey:i});b.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),v.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const Y=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});D.current=Y;const _=v.current.createAnalyser();_.fftSize=256,M.current=_;let F=m.systemPrompt||"";m.tone&&(F+=`

TONE: ${m.tone}. Ensure your responses match this tone consistently.`),m.language&&(F+=`

LANGUAGE: Primary language is ${m.language}. Respond naturally in this language.`);const ie=U.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",config:{responseModalities:[ue.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:m.voice||"Kore"}},speakingRate:m.speakingSpeed||1,pitch:m.pitch||0},systemInstruction:F,inputAudioTranscription:{},outputAudioTranscription:{}},callbacks:{onopen:async()=>{x(n.CONNECTED),g(!1);try{const o=await J.current;k.current=o}catch(o){console.error("Failed to resolve session:",o),f("Failed to establish connection. Please try again."),x(n.ERROR);return}if(b.current&&D.current){const o=b.current.createMediaStreamSource(D.current),S=b.current.createScriptProcessor(4096,1,1);Z.current=S,S.onaudioprocess=K=>{const R=K.inputBuffer.getChannelData(0),$=Math.sqrt(R.reduce((A,z)=>A+z*z,0)/R.length);w($>.01);const W=pe(R);if(k.current)try{k.current.sendRealtimeInput({media:W})}catch(A){console.error("Failed to send audio input:",A)}},o.connect(S),S.connect(b.current.destination)}},onmessage:async o=>{var K,R,$,W,A,z,te;if((K=o.serverContent)!=null&&K.inputTranscription){const d=o.serverContent.inputTranscription.text;y(T=>[...T,{text:d,sender:"user",timestamp:Date.now(),type:"voice"}]),g(!0)}if((R=o.serverContent)!=null&&R.outputTranscription){const d=o.serverContent.outputTranscription.text;y(T=>[...T,{text:d,sender:"agent",timestamp:Date.now()}]),g(!1)}const S=(z=(A=(W=($=o.serverContent)==null?void 0:$.modelTurn)==null?void 0:W.parts[0])==null?void 0:A.inlineData)==null?void 0:z.data;if(S&&v.current)try{N(!0),w(!1),g(!1);const d=v.current;G.current=Math.max(G.current,d.currentTime);const T=await me(xe(S),d,24e3,1),q=d.createGain();q.gain.value=1;const O=d.createBufferSource();O.buffer=T,O.connect(q),q.connect(M.current),q.connect(d.destination),O.onended=()=>{C.current.delete(O),C.current.size===0&&N(!1)},C.current.add(O),O.start(G.current),G.current+=T.duration}catch(d){console.error("Error processing audio output:",d),N(!1)}(te=o.serverContent)!=null&&te.interrupted&&(C.current.forEach(d=>d.stop()),C.current.clear(),G.current=0,N(!1))},onerror:o=>{console.error("Session Error:",o),f("Connection error. Please try again."),x(n.ERROR),H()},onclose:()=>{x(n.IDLE),H()}}});J.current=ie}catch(s){console.error("Failed to start session:",s),s.name==="NotAllowedError"?f("Microphone access denied. Please allow microphone access and try again."):s.name==="NotFoundError"?f("No microphone found. Please connect a microphone and try again."):f("Failed to start voice session. Please check your API key and try again."),x(n.ERROR)}},H=async()=>{if(k.current){try{await k.current.close()}catch(s){console.warn("Error closing session:",s)}k.current=null}if(D.current&&(D.current.getTracks().forEach(s=>s.stop()),D.current=null),Z.current&&(Z.current.disconnect(),Z.current=null),b.current&&b.current.state!=="closed"){try{await b.current.close().catch(console.warn)}catch(s){console.warn("Error closing input audio context:",s)}b.current=null}if(v.current&&v.current.state!=="closed"){try{await v.current.close().catch(console.warn)}catch(s){console.warn("Error closing output audio context:",s)}v.current=null}C.current.forEach(s=>{try{s.stop()}catch{}}),C.current.clear(),I.current&&(cancelAnimationFrame(I.current),I.current=null),x(n.IDLE),N(!1),w(!1),g(!1),M.current=null,J.current=null},ee=async()=>{if(!E.trim()||l!==n.CONNECTED)return;const s=E.trim();V(""),y(i=>[...i,{text:s,sender:"user",timestamp:Date.now(),type:"text"}]),g(!0),setTimeout(()=>{y(i=>[...i,{text:"Text input mode is available. Voice mode provides the best experience.",sender:"agent",timestamp:Date.now()}]),g(!1)},1e3)},ne=()=>{y([])};return a.useEffect(()=>()=>{H()},[]),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-surface-dark rounded-xl border border-white/5 min-h-[400px] max-h-[500px]",children:[r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4 border border-primary/20",children:e.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"mic"})}),e.jsx("p",{className:"text-secondary-grey mb-2",children:"No messages yet"}),e.jsx("p",{className:"text-xs text-secondary-grey",children:l===n.CONNECTED?"Start speaking or type a message below":"Click the microphone button to start a voice session"})]}):r.map((s,i)=>e.jsx("div",{className:`flex ${s.sender==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2`,children:e.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${s.sender==="user"?"bg-primary text-white":"bg-surface-card text-white border border-white/5"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[s.sender==="agent"&&e.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold text-primary",children:"AI"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm leading-relaxed",children:s.text}),s.type==="voice"&&s.sender==="user"&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("span",{className:"material-symbols-outlined text-xs opacity-60",children:"mic"}),e.jsx("span",{className:"text-xs opacity-60",children:"Voice"})]})]}),s.sender==="user"&&e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold",children:"You"})})]})})},i)),h&&e.jsx("div",{className:"flex justify-start animate-in fade-in",children:e.jsxs("div",{className:"bg-surface-card border border-white/5 rounded-2xl px-4 py-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-secondary-grey",children:"Agent is thinking..."})]})}),e.jsx("div",{ref:X})]}),e.jsxs("div",{className:"p-4 border-t border-white/5 bg-surface-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>L("voice"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${u==="voice"?"bg-primary text-white":"bg-surface-dark text-secondary-grey hover:text-white"}`,children:[e.jsx("span",{className:"material-symbols-outlined text-sm align-middle mr-1",children:"mic"}),"Voice"]}),e.jsxs("button",{onClick:()=>L("text"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${u==="text"?"bg-primary text-white":"bg-surface-dark text-secondary-grey hover:text-white"}`,children:[e.jsx("span",{className:"material-symbols-outlined text-sm align-middle mr-1",children:"keyboard"}),"Text"]})]}),u==="voice"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l===n.IDLE||l===n.ERROR?e.jsxs("button",{onClick:ae,disabled:l===n.CONNECTING,className:"relative group size-20 rounded-full bg-primary hover:bg-primary-glow text-white flex items-center justify-center shadow-lg transition-all duration-500 hover:scale-110 active:scale-95 disabled:opacity-50",children:[e.jsx("span",{className:"material-symbols-outlined text-4xl",children:"mic"}),l===n.CONNECTING&&e.jsx("div",{className:"absolute inset-0 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})]}):e.jsx("button",{onClick:H,className:`relative group size-20 rounded-full flex items-center justify-center shadow-lg transition-all duration-500 hover:scale-110 active:scale-95 ${P?"bg-primary animate-pulse shadow-[0_0_30px_rgba(91,140,90,0.6)]":c?"bg-accent":"bg-white/10 hover:bg-white/20"}`,children:P?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined text-4xl text-white",children:"mic"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/50 animate-ping"})]}):c?e.jsx("span",{className:"material-symbols-outlined text-4xl text-white",children:"volume_up"}):e.jsx("span",{className:"material-symbols-outlined text-4xl text-white",children:"stop"})}),l===n.CONNECTED&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 h-2 bg-surface-dark rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-100 rounded-full",style:{width:`${t*100}%`}})}),e.jsx("span",{className:"text-xs text-secondary-grey",children:P?"Listening...":c?"Speaking...":"Ready"})]})]}),l===n.CONNECTED&&e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs",children:[P&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/20 border border-primary/30 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsx("span",{className:"text-primary font-medium",children:"Listening"})]}),c&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-accent/20 border border-accent/30 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse"}),e.jsx("span",{className:"text-accent font-medium",children:"Agent Speaking"})]}),h&&!c&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white/10 border border-white/20 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-spin"}),e.jsx("span",{className:"text-white font-medium",children:"Processing"})]})]})]}),u==="text"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:E,onChange:s=>V(s.target.value),onKeyPress:s=>s.key==="Enter"&&ee(),placeholder:"Type your message...",disabled:l!==n.CONNECTED,className:"flex-1 px-4 py-3 bg-surface-dark border border-white/10 rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all disabled:opacity-50"}),e.jsxs("button",{onClick:ee,disabled:!E.trim()||l!==n.CONNECTED,className:"px-6 py-3 bg-primary hover:bg-primary-glow text-white rounded-xl font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"send"}),"Send"]})]}),B&&e.jsxs("div",{className:"mt-4 p-3 bg-accent/10 border border-accent/30 rounded-xl",children:[e.jsx("p",{className:"text-sm text-accent",children:B}),e.jsx("button",{onClick:()=>f(null),className:"mt-2 text-xs text-accent hover:text-accent/80",children:"Dismiss"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-white/5",children:[e.jsxs("button",{onClick:ne,disabled:r.length===0,className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm text-secondary-grey hover:text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"}),"Clear Chat"]}),l===n.CONNECTED&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-secondary-grey",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsx("span",{children:"Connected"})]})]})]})]})}const be=[{value:"Kore",label:"Kore (Neutral)"},{value:"Puck",label:"Puck (British)"},{value:"Charon",label:"Charon (Deep)"},{value:"Fenrir",label:"Fenrir (Warm)"}];function Ee(){const m=oe(),p=ce(),[r,y]=a.useState({agentName:"",systemPrompt:"",language:"English",tone:"Professional",voice:"Kore",speakingSpeed:1,pitch:0}),[l,x]=a.useState(!0),[P,w]=a.useState(!1),[c,N]=a.useState({});a.useRef(null),a.useEffect(()=>{var t;(t=p.state)!=null&&t.agentData&&y({agentName:p.state.agentData.agentName||"",systemPrompt:p.state.agentData.systemPrompt||"",language:p.state.agentData.language||"English",tone:p.state.agentData.tone||"Professional",voice:p.state.agentData.voice||"Kore",speakingSpeed:p.state.agentData.speakingSpeed||1,pitch:p.state.agentData.pitch||0})},[p.state]);const h=(t,j)=>{y(u=>({...u,[t]:j})),x(!0),w(!1),c[t]&&N(u=>({...u,[t]:null}))},g=()=>{const t={};return r.agentName.trim()?r.agentName.trim().length<3&&(t.agentName="Agent name must be at least 3 characters"):t.agentName="Agent name is required",r.systemPrompt.trim()?r.systemPrompt.trim().length<50&&(t.systemPrompt="System prompt should be at least 50 characters"):t.systemPrompt="System prompt is required",N(t),Object.keys(t).length===0},B=()=>{if(!g())return;if(!Q()){alert("Please sign in to save drafts");return}const j=se(r.systemPrompt.trim()),u={...r,systemPrompt:j,isDraft:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{re(u),x(!1),w(!0),setTimeout(()=>w(!1),3e3)}catch{alert("Failed to save draft. Please try again.")}},f=()=>{if(!g())return;const t=Q();if(!t){alert("Please sign in to deploy agents");return}const j=se(r.systemPrompt.trim()),u={...r,systemPrompt:j,isDraft:!1,isDeployed:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),deployedAt:new Date().toISOString()};try{const L=re(u);he(t.id,{agentsCreated:1}),alert("Agent deployed successfully!"),m("/dashboard")}catch{alert("Failed to deploy agent. Please try again.")}},E=r.systemPrompt.split(/\s+/).filter(Boolean).length,V=r.systemPrompt.length;return e.jsxs("div",{className:"relative min-h-screen bg-background-dark",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] rounded-full bg-primary/5 blur-[120px] mix-blend-screen animate-pulse-slow"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImEiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTTAgNDBWMGg0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=')] opacity-[0.03] mix-blend-overlay"})]}),e.jsx("div",{className:"relative z-10 pt-24 pb-20",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto px-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>m("/create-agent"),className:"flex items-center gap-2 px-4 py-2 text-secondary-grey hover:text-white transition-colors mb-4",children:[e.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),"Back to Create Agent"]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"Test & Deploy Agent"}),e.jsx("p",{className:"text-secondary-grey",children:"Configure your agent, test it in real-time, and deploy when ready"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5 sticky top-24 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-white mb-2",children:["Agent Name ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsx("input",{type:"text",value:r.agentName,onChange:t=>h("agentName",t.target.value),placeholder:"e.g., Customer Support Bot",className:`w-full px-4 py-3 bg-surface-dark border rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 transition-all ${c.agentName?"border-accent focus:ring-accent/50":"border-white/10 focus:border-primary focus:ring-primary/50"}`}),c.agentName&&e.jsx("p",{className:"mt-2 text-sm text-accent",children:c.agentName})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-bold text-white",children:["System Prompt ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsxs("div",{className:"text-xs text-secondary-grey",children:[E," words • ",V," chars"]})]}),e.jsx("textarea",{value:r.systemPrompt,onChange:t=>h("systemPrompt",t.target.value),placeholder:"Define your agent's personality, role, communication style, and key responsibilities...",rows:12,className:`w-full px-4 py-3 bg-surface-dark border rounded-xl text-white placeholder-secondary-grey focus:outline-none focus:ring-2 transition-all resize-none font-mono text-sm ${c.systemPrompt?"border-accent focus:ring-accent/50":"border-white/10 focus:border-primary focus:ring-primary/50"}`}),c.systemPrompt&&e.jsx("p",{className:"mt-2 text-sm text-accent",children:c.systemPrompt})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[e.jsx("h3",{className:"text-sm font-bold text-white",children:"Voice Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-secondary-grey mb-2",children:"Language"}),e.jsx("select",{value:r.language,onChange:t=>h("language",t.target.value),className:"w-full px-4 py-2 bg-surface-dark border border-white/10 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",children:ge.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-secondary-grey mb-2",children:"Voice Tone"}),e.jsx("select",{value:r.tone,onChange:t=>h("tone",t.target.value),className:"w-full px-4 py-2 bg-surface-dark border border-white/10 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",children:fe.map(t=>e.jsxs("option",{value:t.value,children:[t.label," - ",t.description]},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-secondary-grey mb-2",children:"Voice"}),e.jsx("select",{value:r.voice,onChange:t=>h("voice",t.target.value),className:"w-full px-4 py-2 bg-surface-dark border border-white/10 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:border-primary focus:ring-primary/50 transition-all",children:be.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-secondary-grey mb-2",children:["Speech Speed: ",r.speakingSpeed.toFixed(1),"x"]}),e.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:r.speakingSpeed,onChange:t=>h("speakingSpeed",parseFloat(t.target.value)),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-xs text-secondary-grey mt-1",children:[e.jsx("span",{children:"0.5x"}),e.jsx("span",{children:"1.0x"}),e.jsx("span",{children:"2.0x"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-secondary-grey mb-2",children:["Pitch: ",r.pitch]}),e.jsx("input",{type:"range",min:"-20",max:"20",step:"1",value:r.pitch,onChange:t=>h("pitch",parseInt(t.target.value)),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-xs text-secondary-grey mt-1",children:[e.jsx("span",{children:"-20"}),e.jsx("span",{children:"0"}),e.jsx("span",{children:"+20"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/5 space-y-3",children:[P&&e.jsx("div",{className:"bg-primary/10 border border-primary/30 rounded-xl p-3 text-center",children:e.jsx("p",{className:"text-xs text-primary font-medium",children:"✓ Draft saved successfully!"})}),e.jsxs("button",{onClick:B,className:"w-full h-12 px-6 rounded-full bg-white/5 border border-white/10 hover:border-white/20 text-white font-bold text-sm transition-all flex items-center justify-center gap-2 backdrop-blur-sm",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"save"}),"Save Draft"]}),e.jsxs("button",{onClick:f,className:"w-full h-12 px-6 rounded-full bg-primary hover:bg-primary-glow text-white font-bold text-sm transition-all shadow-[0_0_30px_-5px_rgba(91,140,90,0.5)] hover:scale-105 flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"rocket_launch"}),"Deploy Agent"]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-surface-card rounded-2xl border border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Live Testing Interface"}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/10 border border-primary/20 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-primary font-medium",children:"Real-time"})]})]}),e.jsx("p",{className:"text-sm text-secondary-grey",children:"Test your agent configuration in real-time. Adjust settings on the left and see changes immediately."})]}),e.jsx("div",{className:"p-6 min-h-[600px]",children:e.jsx(ye,{agentConfig:r,onConfigChange:y})})]}),e.jsxs("div",{className:"bg-surface-card rounded-2xl p-6 border border-white/5",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Configuration Preview"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-grey",children:"Agent Name:"}),e.jsx("span",{className:"text-white font-medium",children:r.agentName||"Not set"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-grey",children:"Language:"}),e.jsx("span",{className:"text-white font-medium",children:r.language})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-grey",children:"Tone:"}),e.jsx("span",{className:"text-white font-medium",children:r.tone})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-grey",children:"Voice:"}),e.jsx("span",{className:"text-white font-medium",children:r.voice})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-grey",children:"Speech Speed:"}),e.jsxs("span",{className:"text-white font-medium",children:[r.speakingSpeed.toFixed(1),"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-secondary-grey",children:"Pitch:"}),e.jsx("span",{className:"text-white font-medium",children:r.pitch})]}),e.jsxs("div",{className:"pt-3 border-t border-white/5",children:[e.jsx("div",{className:"text-secondary-grey mb-2",children:"System Prompt Preview:"}),e.jsx("div",{className:"bg-surface-dark rounded-lg p-3 text-xs text-white/80 font-mono max-h-32 overflow-y-auto",children:r.systemPrompt||"No prompt set yet..."})]})]})]})]})]})]})})]})}export{Ee as default};
