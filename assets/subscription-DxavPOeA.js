const n={FREE:{id:"free",name:"Free",price:0,monthlyApiCalls:1e3,monthlyVoiceMinutes:60,maxAgents:3,features:["Basic voice agents","Standard templates","Community support","Basic analytics"],limitations:["Limited to 3 agents","1000 API calls/month","60 voice minutes/month"]},PRO:{id:"pro",name:"Pro",price:29,monthlyApiCalls:1e4,monthlyVoiceMinutes:600,maxAgents:20,features:["Unlimited basic agents","Premium templates","Custom voice options","Advanced analytics","Priority support","API access","White-label options"],limitations:[]},ENTERPRISE:{id:"enterprise",name:"Enterprise",price:99,monthlyApiCalls:1e5,monthlyVoiceMinutes:6e3,maxAgents:-1,features:["Everything in Pro","Unlimited agents","Custom integrations","Dedicated support","SLA guarantee","On-premise deployment","Custom training"],limitations:[]}};function i(s){try{const e=localStorage.getItem("vocco_talk_subscriptions"),a=(e?JSON.parse(e):{})[s];return a&&a.tier?{...n[a.tier.toUpperCase()],...a,startDate:a.startDate||new Date().toISOString()}:{...n.FREE,startDate:new Date().toISOString()}}catch(e){return console.error("Error getting subscription:",e),n.FREE}}function u(s,e){try{const t=localStorage.getItem("vocco_talk_subscriptions"),a=t?JSON.parse(t):{};return a[s]={tier:e,startDate:new Date().toISOString(),updatedAt:new Date().toISOString()},localStorage.setItem("vocco_talk_subscriptions",JSON.stringify(a)),!0}catch(t){return console.error("Error setting subscription:",t),!1}}function g(s,e){const t=i(s);switch(e){case"createAgent":const{getAllAgents:a}=require("./agentStorage"),o=a();return t.maxAgents!==-1&&o.length>=t.maxAgents?{allowed:!1,reason:`You've reached the limit of ${t.maxAgents} agents for ${t.name} tier. Upgrade to create more agents.`}:{allowed:!0};case"usePremiumTemplate":return t.id==="free"?{allowed:!1,reason:"Premium templates are available in Pro tier and above. Upgrade to access premium templates."}:{allowed:!0};case"customVoice":return t.id==="free"?{allowed:!1,reason:"Custom voice options are available in Pro tier and above. Upgrade to customize voice settings."}:{allowed:!0};default:return{allowed:!0}}}function c(s){try{const e=localStorage.getItem("vocco_talk_usage"),a=(e?JSON.parse(e):{})[s]||{},o=new Date,r=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;return a[r]||{apiCalls:0,voiceMinutes:0,agentsCreated:0}}catch(e){return console.error("Error getting usage:",e),{apiCalls:0,voiceMinutes:0,agentsCreated:0}}}function m(s,e){try{const t=localStorage.getItem("vocco_talk_usage"),a=t?JSON.parse(t):{},o=new Date,r=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;a[s]||(a[s]={}),a[s][r]||(a[s][r]={apiCalls:0,voiceMinutes:0,agentsCreated:0}),a[s][r].apiCalls+=e.apiCalls||0,a[s][r].voiceMinutes+=e.voiceMinutes||0,a[s][r].agentsCreated+=e.agentsCreated||0,localStorage.setItem("vocco_talk_usage",JSON.stringify(a))}catch(t){console.error("Error recording usage:",t)}}function p(s){const e=i(s),t=c(s),a={apiCalls:t.apiCalls>=e.monthlyApiCalls,voiceMinutes:t.voiceMinutes>=e.monthlyVoiceMinutes};return{exceeded:a.apiCalls||a.voiceMinutes,limits:{apiCalls:e.monthlyApiCalls,voiceMinutes:e.monthlyVoiceMinutes},usage:t,remaining:{apiCalls:Math.max(0,e.monthlyApiCalls-t.apiCalls),voiceMinutes:Math.max(0,e.monthlyVoiceMinutes-t.voiceMinutes)}}}export{n as S,g as a,p as c,i as g,m as r,u as s};
